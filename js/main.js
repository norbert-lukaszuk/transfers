!function(n){var c={};function t(e){if(c[e])return c[e].exports;var l=c[e]={i:e,l:!1,exports:{}};return n[e].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=n,t.c=c,t.d=function(n,c,e){t.o(n,c)||Object.defineProperty(n,c,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,c){if(1&c&&(n=t(n)),8&c)return n;if(4&c&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&c&&"string"!=typeof n)for(var l in n)t.d(e,l,function(c){return n[c]}.bind(null,l));return e},t.n=function(n){var c=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(c,"a",c),c},t.o=function(n,c){return Object.prototype.hasOwnProperty.call(n,c)},t.p="",t(t.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n\r\n\r\n// service worker registration - remove if you're not going to use it\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function () {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function (registration) {\r\n      // Registration was successful\r\n      console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function (err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\nconst checkbox = document.getElementById('show__done');\r\n\r\nconst hamburger = document.querySelector('.hamburger');\r\nconst navigation = document.querySelector('.navigation');\r\nconst addButon = document.querySelector('.button__add');\r\nconst popup = document.querySelector('.popup');\r\nconst cancel = document.getElementById('cancel');\r\nconst backArrow = document.querySelector('.backArrow');\r\nconst date = document.getElementById('calendar');\r\nconst today = document.getElementById('calendar');\r\nlet bank__clicked = null;\r\nconst calendarPopup = document.querySelector('.calendar__popup');\r\nconst category = document.getElementById('category');\r\nconst title = document.getElementById('title');\r\nconst amount = document.getElementById('amount');\r\nconst okButton = document.getElementById('ok');\r\nconst calendarButton = document.querySelector('.button__calendar');\r\nconst calendarBackArow = document.querySelector('.calendar__backArow');\r\nconst calendarWraper = document.querySelector('.calendar__wraper');\r\nconst newDate = new Date(date);\r\nconst transfers = document.querySelector('.transfer');\r\nconst ul = document.querySelector('.list__transfers');\r\nlet input = document.querySelector('.input')\r\nconst bankSelectWraper = document.querySelector('.bankSelectWraper');\r\nconst mbankIcon = document.getElementById('mbankIcon');\r\nconst pkoIcon = document.getElementById('pkoIcon');\r\nconst list = document.querySelector('.list');\r\nconst Transfer = (amount, bank, category, date, status, title) =>{\r\n    const transfer ={\r\n      amount: amount,\r\n      bank: bank,\r\n      category: category,\r\n      date: date,\r\n      status: status,\r\n      title: title,\r\n      \r\n    }\r\n    return transfer\r\n  }\r\n\r\n\r\nconst daysLeft = (date) => {//funkcja zwraca liczbe dni miedzy datą a dziś\r\n  return Math.ceil((new Date(date) - new Date()) / 1000 / 60 / 60 / 24);\r\n}\r\n\r\nconst statusCircle = (timeLeft) => {//kolor kółka zależnie od ilości pozostałych dni\r\n  if (timeLeft >= 3) {\r\n    return 'statusCircle--green'\r\n  }\r\n  else if (timeLeft == 2) {\r\n    return 'statusCircle--yellow'\r\n  }\r\n  else if (timeLeft <= 1) {\r\n    return 'statusCircle--crimson'\r\n  }\r\n}\r\n\r\nconst daysInMonth = (month) => {\r\n  return new Date(2020, month + 1, 0).getDate()\r\n}\r\nconst dayOfWeek = (day, month, year) => {\r\n  const dayNumber = new Date(year, month, day).getDay();\r\n\r\n  switch (dayNumber) {\r\n    case 0:\r\n      return 'Sun';\r\n      break;\r\n    case 1:\r\n      return 'Mon';\r\n      break;\r\n    case 2:\r\n      return 'Tue';\r\n      break;\r\n    case 3:\r\n      return 'Wen';\r\n      break;\r\n    case 4:\r\n      return 'Thu';\r\n      break;\r\n    case 5:\r\n      return 'Fri';\r\n      break;\r\n    case 6:\r\n      return 'Sat';\r\n      break;\r\n  }\r\n}\r\nconst monthFirstDay = (day, month, year) => {\r\n  const startDay = new Date(year, month, day).getDay();\r\n  if (startDay === 0) {\r\n    return 7\r\n  }\r\n  else { return startDay }\r\n}\r\n\r\nconst addTransfer = (amount, bank, category, date, status, title)=>{\r\n  const dayDifference = dateFns.differenceInDays(new Date(date), new Date());\r\n\r\n  if (status === \"done\") {\r\n    const html = `\r\n    <div class=\"strip__done\">${date}</div>\r\n    <div class=\"logoWraper\">\r\n      <div class=\"category\">${category}</div>\r\n    </div>\r\n    <div class=\"timeLeft timeLeftDone\"></div> \r\n    <div class=\"container__bar container__bar--hide\">\r\n        <div class=\"amount\">${amount} zł</div> \r\n        <p class=\"title\">${title}</p>\r\n            <div class=\"containerBar__icons containerBar__icons--done\">\r\n            <i class=\"icon__delete far fa-trash-alt\"></i>\r\n            </div>\r\n        </div>\r\n    <i class=\"arrow fas fa-chevron-down\"></i>\r\n  </div>`;\r\n    return html;\r\n  } else {\r\n    const html = `\r\n    <div class=\"strip__${bank}\">${date}</div>\r\n    <div class=\"logoWraper\">\r\n      <img class=\"image\" src=\"assets/img/${bank} 30x30.png\">\r\n      <div class=\"category\">${category}</div>\r\n      <div class=\"statusCircle ${statusCircle(dayDifference)}\"></div>\r\n    </div>\r\n    <div class=\"timeLeft\">${dateFns.differenceInDays(\r\n      new Date(date),\r\n      new Date()\r\n    )} d.</div> \r\n    <div class=\"container__bar container__bar--hide\">\r\n        <div class=\"amount\">${amount} zł</div> \r\n        <p class=\"title\">${title}</p>\r\n            <div class=\"containerBar__icons\">\r\n            <i class=\"icon__checked far fa-check-square\"></i>\r\n            <i class=\"icon__edit far fa-edit\"></i>\r\n            <i class=\"icon__delete far fa-trash-alt\"></i>\r\n            </div>\r\n        </div>\r\n    <i class=\"arrow fas fa-chevron-down\"></i>\r\n    </div>`;\r\n    return html;\r\n  }\r\n  \r\n}\r\nconst deleteTransfer = (id)=>{\r\n\r\n  const containers =  document.querySelectorAll('.container');\r\n  containers.forEach(e=>{ \r\n    if(e.getAttribute('data-id') === id){\r\n      db.collection('bankTransfers').doc(id).delete()\r\n      .then(console.log('transfer deleted from firebase'))\r\n      .catch(err => console.log(err))\r\n    }\r\n\r\n})\r\n\r\n}\r\ndb.collection('bankTransfers').onSnapshot(snapshot=>{\r\n  snapshot.docChanges().forEach(e=>{\r\n    const doc = e.doc;\r\n    console.log(e.type);\r\n    if(e.type === 'added'){\r\n      const li = document.createElement('li');\r\n    li.setAttribute('data-id', doc.id);\r\n    li.setAttribute('class', 'container');\r\n    const data = doc.data();\r\n    const dayDifference = dateFns.differenceInDays(new Date(data.date), new Date());\r\n    const {amount, bank, category, date, status, title} = data;\r\n    \r\n    li.innerHTML = addTransfer(amount, bank, category, date, status, title); \r\n    ul.append(li);\r\n    }\r\n  } )\r\n})\r\n\r\n// db.collection('bankTransfers').get()\r\n// .then(snapshot=>{\r\n//   snapshot.docs.forEach(doc=>{\r\n//     const li = document.createElement('li');\r\n//     li.setAttribute('data-id', doc.id);\r\n//     li.setAttribute('class', 'container');\r\n//     const data = doc.data();\r\n//     const dayDifference = dateFns.differenceInDays(new Date(data.date), new Date());\r\n//     const {amount, bank, category, date, status, title} = data;\r\n    \r\n//     li.innerHTML = addTransfer(amount, bank, category, date, status, title); \r\n//     ul.append(li);\r\n//   }\r\n    \r\n//   )\r\n// })\r\nul.addEventListener(\"click\", e => {\r\n  // console.log(e.target.parentElement.parentElement.parentElement.getAttribute('data-id'));\r\n  if (e.target.tagName === \"I\" && e.target.classList.contains(\"arrow\")) {\r\n    e.target.parentElement.children\r\n      .item(3)\r\n      .classList.toggle(\"container__bar--hide\");\r\n    e.target.parentElement.children.item(4).classList.toggle(\"fa-rotate-180\");\r\n  }\r\n  if (e.target.tagName === \"I\" && e.target.classList.contains(\"icon__delete\")) {\r\n    let id = e.target.parentElement.parentElement.parentElement.getAttribute(\r\n      \"data-id\"\r\n    );\r\n    const containers = document.querySelectorAll(\".container\");\r\n    containers.forEach(e => {\r\n      if (e.getAttribute(\"data-id\") === id) {\r\n        db.collection(\"bankTransfers\")\r\n          .doc(id)\r\n          .delete()\r\n          .then(console.log(\"transfer deleted from firebase\"))\r\n          .catch(err => console.log(err));\r\n        e.remove();\r\n      }\r\n    });\r\n  }\r\n});\r\nhamburger.addEventListener('click', e => {\r\n  hamburger.classList.toggle('hamburger__active');\r\n  navigation.classList.toggle('navigation--active');\r\n\r\n})\r\n\r\nbankSelectWraper.addEventListener('click', e => {\r\n  if (e.target.tagName === 'IMG' && e.target.id === 'mbankIcon') {\r\n    e.target.classList.toggle('bankClicked');\r\n    pkoIcon.classList.remove('bankClicked');\r\n    bank__clicked = 'mBank';\r\n  }\r\n  else if (e.target.tagName === 'IMG' && e.target.id === 'pkoIcon') {\r\n    e.target.classList.toggle('bankClicked');\r\n    mbankIcon.classList.remove('bankClicked');\r\n    bank__clicked = 'PKO';\r\n  }\r\n})\r\n/****Otwieranie popupa  */\r\naddButon.addEventListener('click', e => {\r\n  popup.style.display = 'block';\r\n  list.classList.add('listHide');\r\n  navigation.classList.remove('navigation--active');\r\n  hamburger.classList.remove('hamburger__active');\r\n  today.valueAsDate = new Date(); //aktualna data w input date\r\n})\r\n\r\n/****** włączanie widoku kalendarza******/\r\ncalendarButton.addEventListener('click', e => {\r\n  calendarPopup.classList.toggle('calendar__popup--show');\r\n  navigation.classList.remove('navigation--active');\r\n  hamburger.classList.remove('hamburger__active');\r\n  const today = new Date();\r\n  for (let i = 0; i < 12; i++) {\r\n    const calendarWraper = document.getElementById(i.toString());\r\n    // let daysInMonth = new Date(2020,i+1,0).getDate()//number of days in month\r\n    // const month = today.getMonth();\r\n    for (let j = 1; j <= 42; j++) {\r\n      calendarWraper.innerHTML += `<div class=\"day\"></div>`;\r\n    }\r\n    // ułożenie prawidłowe dni w miesiącu\r\n    const days = calendarWraper.querySelectorAll('.day');\r\n    const firstDay = monthFirstDay(1, i, 2020) - 1;\r\n\r\n    for (let k = firstDay; k < (firstDay + daysInMonth(i)); k++) {\r\n      days[k].innerHTML += `<span class=\"day__number\">${(k - firstDay) + 1}</span><span class=\"day__name\">${dayOfWeek((k - firstDay) + 1, i, 2020)}</span>`//wypisuje dzień miesiąca i dzień tygodnia w komórce kalendarza \r\n      if (days[k].lastElementChild.innerText === 'Sun') {\r\n        days[k].classList.add('day--sunday');\r\n      }\r\n    }\r\n    const allDays = calendarWraper.querySelectorAll('div');\r\n    allDays.forEach(e => {\r\n      if (e.innerHTML === '' && window.innerWidth <= 360) {\r\n        e.classList.add('day__mobile--hide');\r\n      }\r\n      else if (e.innerHTML === '') { e.classList.remove('day') }\r\n\r\n    })\r\n  }\r\n  const allDaysOrder = document.querySelectorAll('.day');\r\n  allDaysOrder.forEach(e => {\r\n    if (e.firstElementChild != null && parseInt(e.firstElementChild.innerText) === today.getDate() && parseInt(e.parentElement.getAttribute('id')) === today.getMonth()) {\r\n      e.firstElementChild.classList.add('day__number--today')\r\n    }\r\n  })\r\n\r\n  const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  bankArray.forEach(e => {\r\n    let bankArrayDate = new Date(e.date);\r\n    let month = bankArrayDate.getMonth().toString();\r\n    let calendar__wraper = document.getElementById(month);\r\n    let day = bankArrayDate.getDate();\r\n    const daysInMonth = calendar__wraper.querySelectorAll('.day');\r\n    daysInMonth[day].innerHTML += `<span class=\"day__category\">${e.category}</span>`;\r\n\r\n  })\r\n\r\n\r\n})\r\n\r\ncalendarBackArow.addEventListener('click', e => {\r\n  calendarPopup.classList.remove('calendar__popup--show');\r\n  const allDays = document.querySelectorAll('.day');\r\n  allDays.forEach(e => {\r\n    e.remove();\r\n  })\r\n\r\n})\r\ncancel.addEventListener('click', e => {\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n})\r\nbackArrow.addEventListener('click', e => {\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n\r\n})\r\n\r\n/******** add new transfer ********/\r\nokButton.addEventListener('click', e => {\r\n  // let bankObject = {};\r\n  // let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  // if (bankArray === null) {\r\n  //   bankArray = [];\r\n  // }\r\n  const category = document.getElementById('category');\r\n  if (bank__clicked != null) {//warunek wykonania pętli\r\n   const bankObject = Transfer(transfers.amount.value, bank__clicked, transfers.category.value, transfers.date.value, '',transfers.title.value);\r\n    \r\n    db.collection('bankTransfers').add(bankObject).then(()=>{\r\n      console.log('transfer added to firebase')\r\n    })\r\n    \r\n\r\n    transfers.reset();// reset() resetuje tylko form\r\n    //\r\n\r\n    popup.style.display = 'none';\r\n    list.classList.remove('listHide');\r\n\r\n  }\r\n  else {\r\n    alert('Select the bank')//jeśli nie wybiorę banku\r\n  }\r\n}\r\n)\r\n\r\ncheckbox.onchange = () => {\r\n  const container__done = document.querySelectorAll('.container__done');\r\n  if (checkbox.checked) {\r\n\r\n    container__done.forEach(e => {\r\n      e.classList.remove('container__done--hide');\r\n    })\r\n  }\r\n  else { container__done.forEach(e => e.classList.add('container__done--hide')) }\r\n}\r\n\r\n/******* REFRESSH ***********/\r\n\r\n// const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n// bankArray.forEach(e => {\r\n//   const keys = Object.keys(e);\r\n//   const { bank, category, date, title, amount, status, id, containerClass, statusCircleClass, timeLeftClass } = e;\r\n//   const mbank_container = `<div class=\"container\" id=\"${id}\">\r\n//       <div class=\"strip__mbank\">${date}</div>\r\n//       <div class=\"logoWraper\">\r\n//         <img class=\"image\" src=\"assets/img/mbank 30x30.png\">\r\n//         <div class=\"category\">${category}</div>\r\n//         <div class=\"statusCircle ${statusCircle(daysLeft(date))}\"></div>\r\n//       </div>\r\n//       <div class=\"timeLeft\">${daysLeft(date)} d.</div> \r\n//       <div class=\"amount\">${amount} zł</div> \r\n//       <p class=\"title\">${title}</p>\r\n//       <div class=\"close\">\r\n//       <button class=\"buttonClose\">Cancel</button>\r\n//       <button class =\"buttonDone\">Done</button>\r\n//       </div>          \r\n//     </div>`;\r\n//   const pko_container = `<div class=\"container\" id=\"${id}\">\r\n//       <div class=\"strip__pko\">${date}</div>\r\n//       <div class=\"logoWraper\">\r\n//         <img class=\"image\" src=\"assets/img/pkobp 467x485.png\">\r\n//         <div class=\"category\">${category}</div>\r\n//         <div class=\"statusCircle ${statusCircle(daysLeft(date))}\"></div>\r\n//       </div>\r\n//       <div class=\"timeLeft\">${daysLeft(date)} d.</div> \r\n//       <div class=\"amount\">${amount}</div> \r\n//       <p class=\"title\">${title}</p>\r\n//       <div class=\"close\">\r\n//       <button class=\"buttonClose\">Cancel</button>\r\n//       <button class =\"buttonDone\">Done</button>\r\n//       </div>          \r\n//     </div>`;\r\n//   const done_container = `<div class=\"container container__done container__done--hide\" id=${id}>\r\n//       <div class=\"strip__done\">${date}</div>\r\n//       <div class=\"logoWraper\">\r\n//       <img class=\"image__trashBin\" src=\"assets/img/delete 30x30.png\">\r\n//         <div class=\"category\">${category}</div>\r\n//         <img src=\"assets/img/checked 64x64.png\">\r\n//       </div>\r\n//       <div class=\"timeLeft timeLeftDone\"></div> \r\n//       <div class=\"amount\">${amount}</div> \r\n//       <p class=\"title\">${title}</p>\r\n//     </div>`;\r\n//   if (status === 'done') {\r\n//     ul.innerHTML += done_container;\r\n//   }\r\n//   if (bank === 'mBank' && status != 'done') {\r\n//     ul.innerHTML += mbank_container;\r\n//   }\r\n//   if (bank === 'PKO' && status != 'done') {\r\n//     ul.innerHTML += pko_container;\r\n//   }\r\n// })\r\n\r\n// ul.addEventListener('click', e => {\r\n//   if(e.target.tagName === 'I' /* && e.target.classList.contains('arrow') */){\r\n//   }\r\n\r\n//   if (e.target.tagName === 'DIV' && e.target.classList.contains('close')) {\r\n//     e.target.firstElementChild.classList.add('buttonClose--show');\r\n//     e.target.lastElementChild.classList.add('buttonDone--show');\r\n//   }\r\n//   if (e.target.tagName === 'BUTTON' && e.target.classList.contains('buttonDone')) {\r\n//     let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n//     const containerId = parseInt(e.target.parentNode.parentNode.getAttribute('id'));\r\n//     e.target.parentNode.parentNode.classList.add('container__done', 'container__done--hide');\r\n//     bankArray.forEach(f => {\r\n//       if (containerId === f.id) {\r\n//         f.status = 'done'\r\n//         const { date, category, amount, title } = f;\r\n//         const swap__container = document.getElementById(JSON.stringify(containerId));\r\n//         swap__container.innerHTML = `<div class=\"strip__done\">${date}</div>\r\n//          <div class=\"logoWraper\">\r\n//          <img class=\"image__trashBin\" src=\"assets/img/delete 30x30.png\">\r\n//            <div class=\"category\">${category}</div>\r\n//            <img src=\"assets/img/checked 64x64.png\">\r\n//          </div>\r\n//          <div class=\"timeLeft timeLeftDone\"></div> \r\n//          <div class=\"amount\">${amount}</div> \r\n//          <p class=\"title\">${title}</p>`;\r\n//       }\r\n//     })\r\n//     const local = JSON.stringify(bankArray);\r\n//     localStorage.setItem('bankArray', local);\r\n//     e.target.parentNode.remove();\r\n//   }\r\n//   if (e.target.classList.contains('buttonClose')) {//tu trzeba poprawić !!\r\n//     e.target.classList.remove('buttonClose--show');\r\n//     e.target.parentElement.children.item(1).classList.remove('buttonDone--show');\r\n//   }\r\n//   if (e.target.tagName === 'IMG' && e.target.classList.contains('image__trashBin')) {//usuwanie elementu z listy \r\n//     const containerId = parseInt(e.target.parentElement.parentElement.getAttribute('id'));\r\n//     const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n//     let indexDel = null;\r\n//     const indexFun = (elemenent, index) => {\r\n//       if (elemenent.id === containerId) {\r\nconsole.log(\"TCL: //indexFun -> id \", id )\r\n//         indexDel = index\r\n//       }\r\n\r\n//     }\r\n//     bankArray.forEach(indexFun);\r\n//     console.log(indexDel);\r\n//     bankArray.splice(indexDel, 1);\r\n//     const local = JSON.stringify(bankArray);\r\n//     localStorage.setItem('bankArray', local);\r\n//     e.target.parentElement.parentElement.remove();\r\n\r\n//   }\r\n// })\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFhOztBQUVhOztBQUUxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0EsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsS0FBSztBQUNwQztBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDLDJCQUEyQixNQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseUJBQXlCLEtBQUssSUFBSSxLQUFLO0FBQ3ZDO0FBQ0EsMkNBQTJDLEtBQUs7QUFDaEQsOEJBQThCLFNBQVM7QUFDdkMsaUNBQWlDLDRCQUE0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dEMsNEJBQTRCLE1BQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdDQUFnQztBQUNsRDtBQUNBLG1FQUFtRSxLQUFLO0FBQ3hFO0FBQ0E7QUFDQSxzQ0FBc0MsU0FBUztBQUMvQztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsT0FBTztBQUN6QywrQkFBK0IsTUFBTTtBQUNyQztBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUkiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IHsgdHlwZSB9IGZyb20gXCJvc1wiO1xyXG5cclxuLy8gc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIC0gcmVtb3ZlIGlmIHlvdSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NlcnZpY2V3b3JrZXIuanMnKS50aGVuKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcclxuICAgICAgLy8gUmVnaXN0cmF0aW9uIHdhcyBzdWNjZXNzZnVsXHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIC8vIHJlZ2lzdHJhdGlvbiBmYWlsZWQgOihcclxuICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3dfX2RvbmUnKTtcclxuXHJcbmNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKTtcclxuY29uc3QgbmF2aWdhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uJyk7XHJcbmNvbnN0IGFkZEJ1dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbl9fYWRkJyk7XHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWwnKTtcclxuY29uc3QgYmFja0Fycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tBcnJvdycpO1xyXG5jb25zdCBkYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyJyk7XHJcbmNvbnN0IHRvZGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbGVuZGFyJyk7XHJcbmxldCBiYW5rX19jbGlja2VkID0gbnVsbDtcclxuY29uc3QgY2FsZW5kYXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxlbmRhcl9fcG9wdXAnKTtcclxuY29uc3QgY2F0ZWdvcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2F0ZWdvcnknKTtcclxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGUnKTtcclxuY29uc3QgYW1vdW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ftb3VudCcpO1xyXG5jb25zdCBva0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvaycpO1xyXG5jb25zdCBjYWxlbmRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fX2NhbGVuZGFyJyk7XHJcbmNvbnN0IGNhbGVuZGFyQmFja0Fyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsZW5kYXJfX2JhY2tBcm93Jyk7XHJcbmNvbnN0IGNhbGVuZGFyV3JhcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGVuZGFyX193cmFwZXInKTtcclxuY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG5jb25zdCB0cmFuc2ZlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhbnNmZXInKTtcclxuY29uc3QgdWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGlzdF9fdHJhbnNmZXJzJyk7XHJcbmxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpXHJcbmNvbnN0IGJhbmtTZWxlY3RXcmFwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFua1NlbGVjdFdyYXBlcicpO1xyXG5jb25zdCBtYmFua0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWJhbmtJY29uJyk7XHJcbmNvbnN0IHBrb0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGtvSWNvbicpO1xyXG5jb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QnKTtcclxuY29uc3QgVHJhbnNmZXIgPSAoYW1vdW50LCBiYW5rLCBjYXRlZ29yeSwgZGF0ZSwgc3RhdHVzLCB0aXRsZSkgPT57XHJcbiAgICBjb25zdCB0cmFuc2ZlciA9e1xyXG4gICAgICBhbW91bnQ6IGFtb3VudCxcclxuICAgICAgYmFuazogYmFuayxcclxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxyXG4gICAgICBkYXRlOiBkYXRlLFxyXG4gICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICBcclxuICAgIH1cclxuICAgIHJldHVybiB0cmFuc2ZlclxyXG4gIH1cclxuXHJcblxyXG5jb25zdCBkYXlzTGVmdCA9IChkYXRlKSA9PiB7Ly9mdW5rY2phIHp3cmFjYSBsaWN6YmUgZG5pIG1pZWR6eSBkYXTEhSBhIGR6acWbXHJcbiAgcmV0dXJuIE1hdGguY2VpbCgobmV3IERhdGUoZGF0ZSkgLSBuZXcgRGF0ZSgpKSAvIDEwMDAgLyA2MCAvIDYwIC8gMjQpO1xyXG59XHJcblxyXG5jb25zdCBzdGF0dXNDaXJjbGUgPSAodGltZUxlZnQpID0+IHsvL2tvbG9yIGvDs8WCa2EgemFsZcW8bmllIG9kIGlsb8WbY2kgcG96b3N0YcWCeWNoIGRuaVxyXG4gIGlmICh0aW1lTGVmdCA+PSAzKSB7XHJcbiAgICByZXR1cm4gJ3N0YXR1c0NpcmNsZS0tZ3JlZW4nXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHRpbWVMZWZ0ID09IDIpIHtcclxuICAgIHJldHVybiAnc3RhdHVzQ2lyY2xlLS15ZWxsb3cnXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHRpbWVMZWZ0IDw9IDEpIHtcclxuICAgIHJldHVybiAnc3RhdHVzQ2lyY2xlLS1jcmltc29uJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZGF5c0luTW9udGggPSAobW9udGgpID0+IHtcclxuICByZXR1cm4gbmV3IERhdGUoMjAyMCwgbW9udGggKyAxLCAwKS5nZXREYXRlKClcclxufVxyXG5jb25zdCBkYXlPZldlZWsgPSAoZGF5LCBtb250aCwgeWVhcikgPT4ge1xyXG4gIGNvbnN0IGRheU51bWJlciA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpLmdldERheSgpO1xyXG5cclxuICBzd2l0Y2ggKGRheU51bWJlcikge1xyXG4gICAgY2FzZSAwOlxyXG4gICAgICByZXR1cm4gJ1N1bic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICByZXR1cm4gJ01vbic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAyOlxyXG4gICAgICByZXR1cm4gJ1R1ZSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAzOlxyXG4gICAgICByZXR1cm4gJ1dlbic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA0OlxyXG4gICAgICByZXR1cm4gJ1RodSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA1OlxyXG4gICAgICByZXR1cm4gJ0ZyaSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA2OlxyXG4gICAgICByZXR1cm4gJ1NhdCc7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5jb25zdCBtb250aEZpcnN0RGF5ID0gKGRheSwgbW9udGgsIHllYXIpID0+IHtcclxuICBjb25zdCBzdGFydERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpLmdldERheSgpO1xyXG4gIGlmIChzdGFydERheSA9PT0gMCkge1xyXG4gICAgcmV0dXJuIDdcclxuICB9XHJcbiAgZWxzZSB7IHJldHVybiBzdGFydERheSB9XHJcbn1cclxuXHJcbmNvbnN0IGFkZFRyYW5zZmVyID0gKGFtb3VudCwgYmFuaywgY2F0ZWdvcnksIGRhdGUsIHN0YXR1cywgdGl0bGUpPT57XHJcbiAgY29uc3QgZGF5RGlmZmVyZW5jZSA9IGRhdGVGbnMuZGlmZmVyZW5jZUluRGF5cyhuZXcgRGF0ZShkYXRlKSwgbmV3IERhdGUoKSk7XHJcblxyXG4gIGlmIChzdGF0dXMgPT09IFwiZG9uZVwiKSB7XHJcbiAgICBjb25zdCBodG1sID0gYFxyXG4gICAgPGRpdiBjbGFzcz1cInN0cmlwX19kb25lXCI+JHtkYXRlfTwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXRlZ29yeX08L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInRpbWVMZWZ0IHRpbWVMZWZ0RG9uZVwiPjwvZGl2PiBcclxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJfX2JhciBjb250YWluZXJfX2Jhci0taGlkZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbW91bnRcIj4ke2Ftb3VudH0gesWCPC9kaXY+IFxyXG4gICAgICAgIDxwIGNsYXNzPVwidGl0bGVcIj4ke3RpdGxlfTwvcD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lckJhcl9faWNvbnMgY29udGFpbmVyQmFyX19pY29ucy0tZG9uZVwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImljb25fX2RlbGV0ZSBmYXIgZmEtdHJhc2gtYWx0XCI+PC9pPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDxpIGNsYXNzPVwiYXJyb3cgZmFzIGZhLWNoZXZyb24tZG93blwiPjwvaT5cclxuICA8L2Rpdj5gO1xyXG4gICAgcmV0dXJuIGh0bWw7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGh0bWwgPSBgXHJcbiAgICA8ZGl2IGNsYXNzPVwic3RyaXBfXyR7YmFua31cIj4ke2RhdGV9PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibG9nb1dyYXBlclwiPlxyXG4gICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VcIiBzcmM9XCJhc3NldHMvaW1nLyR7YmFua30gMzB4MzAucG5nXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiPiR7Y2F0ZWdvcnl9PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGF0dXNDaXJjbGUgJHtzdGF0dXNDaXJjbGUoZGF5RGlmZmVyZW5jZSl9XCI+PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdFwiPiR7ZGF0ZUZucy5kaWZmZXJlbmNlSW5EYXlzKFxyXG4gICAgICBuZXcgRGF0ZShkYXRlKSxcclxuICAgICAgbmV3IERhdGUoKVxyXG4gICAgKX0gZC48L2Rpdj4gXHJcbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyX19iYXIgY29udGFpbmVyX19iYXItLWhpZGVcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+JHthbW91bnR9IHrFgjwvZGl2PiBcclxuICAgICAgICA8cCBjbGFzcz1cInRpdGxlXCI+JHt0aXRsZX08L3A+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJCYXJfX2ljb25zXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbl9fY2hlY2tlZCBmYXIgZmEtY2hlY2stc3F1YXJlXCI+PC9pPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImljb25fX2VkaXQgZmFyIGZhLWVkaXRcIj48L2k+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbl9fZGVsZXRlIGZhciBmYS10cmFzaC1hbHRcIj48L2k+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPGkgY2xhc3M9XCJhcnJvdyBmYXMgZmEtY2hldnJvbi1kb3duXCI+PC9pPlxyXG4gICAgPC9kaXY+YDtcclxuICAgIHJldHVybiBodG1sO1xyXG4gIH1cclxuICBcclxufVxyXG5jb25zdCBkZWxldGVUcmFuc2ZlciA9IChpZCk9PntcclxuXHJcbiAgY29uc3QgY29udGFpbmVycyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFpbmVyJyk7XHJcbiAgY29udGFpbmVycy5mb3JFYWNoKGU9PnsgXHJcbiAgICBpZihlLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpID09PSBpZCl7XHJcbiAgICAgIGRiLmNvbGxlY3Rpb24oJ2JhbmtUcmFuc2ZlcnMnKS5kb2MoaWQpLmRlbGV0ZSgpXHJcbiAgICAgIC50aGVuKGNvbnNvbGUubG9nKCd0cmFuc2ZlciBkZWxldGVkIGZyb20gZmlyZWJhc2UnKSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbn1cclxuZGIuY29sbGVjdGlvbignYmFua1RyYW5zZmVycycpLm9uU25hcHNob3Qoc25hcHNob3Q9PntcclxuICBzbmFwc2hvdC5kb2NDaGFuZ2VzKCkuZm9yRWFjaChlPT57XHJcbiAgICBjb25zdCBkb2MgPSBlLmRvYztcclxuICAgIGNvbnNvbGUubG9nKGUudHlwZSk7XHJcbiAgICBpZihlLnR5cGUgPT09ICdhZGRlZCcpe1xyXG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBkb2MuaWQpO1xyXG4gICAgbGkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250YWluZXInKTtcclxuICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgY29uc3QgZGF5RGlmZmVyZW5jZSA9IGRhdGVGbnMuZGlmZmVyZW5jZUluRGF5cyhuZXcgRGF0ZShkYXRhLmRhdGUpLCBuZXcgRGF0ZSgpKTtcclxuICAgIGNvbnN0IHthbW91bnQsIGJhbmssIGNhdGVnb3J5LCBkYXRlLCBzdGF0dXMsIHRpdGxlfSA9IGRhdGE7XHJcbiAgICBcclxuICAgIGxpLmlubmVySFRNTCA9IGFkZFRyYW5zZmVyKGFtb3VudCwgYmFuaywgY2F0ZWdvcnksIGRhdGUsIHN0YXR1cywgdGl0bGUpOyBcclxuICAgIHVsLmFwcGVuZChsaSk7XHJcbiAgICB9XHJcbiAgfSApXHJcbn0pXHJcblxyXG4vLyBkYi5jb2xsZWN0aW9uKCdiYW5rVHJhbnNmZXJzJykuZ2V0KClcclxuLy8gLnRoZW4oc25hcHNob3Q9PntcclxuLy8gICBzbmFwc2hvdC5kb2NzLmZvckVhY2goZG9jPT57XHJcbi8vICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbi8vICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCBkb2MuaWQpO1xyXG4vLyAgICAgbGkuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjb250YWluZXInKTtcclxuLy8gICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4vLyAgICAgY29uc3QgZGF5RGlmZmVyZW5jZSA9IGRhdGVGbnMuZGlmZmVyZW5jZUluRGF5cyhuZXcgRGF0ZShkYXRhLmRhdGUpLCBuZXcgRGF0ZSgpKTtcclxuLy8gICAgIGNvbnN0IHthbW91bnQsIGJhbmssIGNhdGVnb3J5LCBkYXRlLCBzdGF0dXMsIHRpdGxlfSA9IGRhdGE7XHJcbiAgICBcclxuLy8gICAgIGxpLmlubmVySFRNTCA9IGFkZFRyYW5zZmVyKGFtb3VudCwgYmFuaywgY2F0ZWdvcnksIGRhdGUsIHN0YXR1cywgdGl0bGUpOyBcclxuLy8gICAgIHVsLmFwcGVuZChsaSk7XHJcbi8vICAgfVxyXG4gICAgXHJcbi8vICAgKVxyXG4vLyB9KVxyXG51bC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgLy8gY29uc29sZS5sb2coZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xyXG4gIGlmIChlLnRhcmdldC50YWdOYW1lID09PSBcIklcIiAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhcnJvd1wiKSkge1xyXG4gICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlblxyXG4gICAgICAuaXRlbSgzKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNvbnRhaW5lcl9fYmFyLS1oaWRlXCIpO1xyXG4gICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlbi5pdGVtKDQpLmNsYXNzTGlzdC50b2dnbGUoXCJmYS1yb3RhdGUtMTgwXCIpO1xyXG4gIH1cclxuICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gXCJJXCIgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWNvbl9fZGVsZXRlXCIpKSB7XHJcbiAgICBsZXQgaWQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXHJcbiAgICAgIFwiZGF0YS1pZFwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgY29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udGFpbmVyXCIpO1xyXG4gICAgY29udGFpbmVycy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICBpZiAoZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpID09PSBpZCkge1xyXG4gICAgICAgIGRiLmNvbGxlY3Rpb24oXCJiYW5rVHJhbnNmZXJzXCIpXHJcbiAgICAgICAgICAuZG9jKGlkKVxyXG4gICAgICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgICAgICAudGhlbihjb25zb2xlLmxvZyhcInRyYW5zZmVyIGRlbGV0ZWQgZnJvbSBmaXJlYmFzZVwiKSlcclxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgZS5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgaGFtYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2hhbWJ1cmdlcl9fYWN0aXZlJyk7XHJcbiAgbmF2aWdhdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCduYXZpZ2F0aW9uLS1hY3RpdmUnKTtcclxuXHJcbn0pXHJcblxyXG5iYW5rU2VsZWN0V3JhcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnICYmIGUudGFyZ2V0LmlkID09PSAnbWJhbmtJY29uJykge1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIHBrb0ljb24uY2xhc3NMaXN0LnJlbW92ZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIGJhbmtfX2NsaWNrZWQgPSAnbUJhbmsnO1xyXG4gIH1cclxuICBlbHNlIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnSU1HJyAmJiBlLnRhcmdldC5pZCA9PT0gJ3Brb0ljb24nKSB7XHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdiYW5rQ2xpY2tlZCcpO1xyXG4gICAgbWJhbmtJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2JhbmtDbGlja2VkJyk7XHJcbiAgICBiYW5rX19jbGlja2VkID0gJ1BLTyc7XHJcbiAgfVxyXG59KVxyXG4vKioqKk90d2llcmFuaWUgcG9wdXBhICAqL1xyXG5hZGRCdXRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdEhpZGUnKTtcclxuICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmlnYXRpb24tLWFjdGl2ZScpO1xyXG4gIGhhbWJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdoYW1idXJnZXJfX2FjdGl2ZScpO1xyXG4gIHRvZGF5LnZhbHVlQXNEYXRlID0gbmV3IERhdGUoKTsgLy9ha3R1YWxuYSBkYXRhIHcgaW5wdXQgZGF0ZVxyXG59KVxyXG5cclxuLyoqKioqKiB3xYLEhWN6YW5pZSB3aWRva3Uga2FsZW5kYXJ6YSoqKioqKi9cclxuY2FsZW5kYXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICBjYWxlbmRhclBvcHVwLmNsYXNzTGlzdC50b2dnbGUoJ2NhbGVuZGFyX19wb3B1cC0tc2hvdycpO1xyXG4gIG5hdmlnYXRpb24uY2xhc3NMaXN0LnJlbW92ZSgnbmF2aWdhdGlvbi0tYWN0aXZlJyk7XHJcbiAgaGFtYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2hhbWJ1cmdlcl9fYWN0aXZlJyk7XHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkrKykge1xyXG4gICAgY29uc3QgY2FsZW5kYXJXcmFwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpLnRvU3RyaW5nKCkpO1xyXG4gICAgLy8gbGV0IGRheXNJbk1vbnRoID0gbmV3IERhdGUoMjAyMCxpKzEsMCkuZ2V0RGF0ZSgpLy9udW1iZXIgb2YgZGF5cyBpbiBtb250aFxyXG4gICAgLy8gY29uc3QgbW9udGggPSB0b2RheS5nZXRNb250aCgpO1xyXG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gNDI7IGorKykge1xyXG4gICAgICBjYWxlbmRhcldyYXBlci5pbm5lckhUTUwgKz0gYDxkaXYgY2xhc3M9XCJkYXlcIj48L2Rpdj5gO1xyXG4gICAgfVxyXG4gICAgLy8gdcWCb8W8ZW5pZSBwcmF3aWTFgm93ZSBkbmkgdyBtaWVzacSFY3VcclxuICAgIGNvbnN0IGRheXMgPSBjYWxlbmRhcldyYXBlci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF5Jyk7XHJcbiAgICBjb25zdCBmaXJzdERheSA9IG1vbnRoRmlyc3REYXkoMSwgaSwgMjAyMCkgLSAxO1xyXG5cclxuICAgIGZvciAobGV0IGsgPSBmaXJzdERheTsgayA8IChmaXJzdERheSArIGRheXNJbk1vbnRoKGkpKTsgaysrKSB7XHJcbiAgICAgIGRheXNba10uaW5uZXJIVE1MICs9IGA8c3BhbiBjbGFzcz1cImRheV9fbnVtYmVyXCI+JHsoayAtIGZpcnN0RGF5KSArIDF9PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGF5X19uYW1lXCI+JHtkYXlPZldlZWsoKGsgLSBmaXJzdERheSkgKyAxLCBpLCAyMDIwKX08L3NwYW4+YC8vd3lwaXN1amUgZHppZcWEIG1pZXNpxIVjYSBpIGR6aWXFhCB0eWdvZG5pYSB3IGtvbcOzcmNlIGthbGVuZGFyemEgXHJcbiAgICAgIGlmIChkYXlzW2tdLmxhc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0ID09PSAnU3VuJykge1xyXG4gICAgICAgIGRheXNba10uY2xhc3NMaXN0LmFkZCgnZGF5LS1zdW5kYXknKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgYWxsRGF5cyA9IGNhbGVuZGFyV3JhcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdicpO1xyXG4gICAgYWxsRGF5cy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICBpZiAoZS5pbm5lckhUTUwgPT09ICcnICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDM2MCkge1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LmFkZCgnZGF5X19tb2JpbGUtLWhpZGUnKTtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChlLmlubmVySFRNTCA9PT0gJycpIHsgZS5jbGFzc0xpc3QucmVtb3ZlKCdkYXknKSB9XHJcblxyXG4gICAgfSlcclxuICB9XHJcbiAgY29uc3QgYWxsRGF5c09yZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gIGFsbERheXNPcmRlci5mb3JFYWNoKGUgPT4ge1xyXG4gICAgaWYgKGUuZmlyc3RFbGVtZW50Q2hpbGQgIT0gbnVsbCAmJiBwYXJzZUludChlLmZpcnN0RWxlbWVudENoaWxkLmlubmVyVGV4dCkgPT09IHRvZGF5LmdldERhdGUoKSAmJiBwYXJzZUludChlLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpKSA9PT0gdG9kYXkuZ2V0TW9udGgoKSkge1xyXG4gICAgICBlLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoJ2RheV9fbnVtYmVyLS10b2RheScpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY29uc3QgYmFua0FycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFua0FycmF5JykpO1xyXG4gIGJhbmtBcnJheS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgbGV0IGJhbmtBcnJheURhdGUgPSBuZXcgRGF0ZShlLmRhdGUpO1xyXG4gICAgbGV0IG1vbnRoID0gYmFua0FycmF5RGF0ZS5nZXRNb250aCgpLnRvU3RyaW5nKCk7XHJcbiAgICBsZXQgY2FsZW5kYXJfX3dyYXBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vbnRoKTtcclxuICAgIGxldCBkYXkgPSBiYW5rQXJyYXlEYXRlLmdldERhdGUoKTtcclxuICAgIGNvbnN0IGRheXNJbk1vbnRoID0gY2FsZW5kYXJfX3dyYXBlci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF5Jyk7XHJcbiAgICBkYXlzSW5Nb250aFtkYXldLmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3M9XCJkYXlfX2NhdGVnb3J5XCI+JHtlLmNhdGVnb3J5fTwvc3Bhbj5gO1xyXG5cclxuICB9KVxyXG5cclxuXHJcbn0pXHJcblxyXG5jYWxlbmRhckJhY2tBcm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgY2FsZW5kYXJQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdjYWxlbmRhcl9fcG9wdXAtLXNob3cnKTtcclxuICBjb25zdCBhbGxEYXlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gIGFsbERheXMuZm9yRWFjaChlID0+IHtcclxuICAgIGUucmVtb3ZlKCk7XHJcbiAgfSlcclxuXHJcbn0pXHJcbmNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdsaXN0SGlkZScpO1xyXG59KVxyXG5iYWNrQXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdEhpZGUnKTtcclxuXHJcbn0pXHJcblxyXG4vKioqKioqKiogYWRkIG5ldyB0cmFuc2ZlciAqKioqKioqKi9cclxub2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAvLyBsZXQgYmFua09iamVjdCA9IHt9O1xyXG4gIC8vIGxldCBiYW5rQXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYW5rQXJyYXknKSk7XHJcbiAgLy8gaWYgKGJhbmtBcnJheSA9PT0gbnVsbCkge1xyXG4gIC8vICAgYmFua0FycmF5ID0gW107XHJcbiAgLy8gfVxyXG4gIGNvbnN0IGNhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5Jyk7XHJcbiAgaWYgKGJhbmtfX2NsaWNrZWQgIT0gbnVsbCkgey8vd2FydW5layB3eWtvbmFuaWEgcMSZdGxpXHJcbiAgIGNvbnN0IGJhbmtPYmplY3QgPSBUcmFuc2Zlcih0cmFuc2ZlcnMuYW1vdW50LnZhbHVlLCBiYW5rX19jbGlja2VkLCB0cmFuc2ZlcnMuY2F0ZWdvcnkudmFsdWUsIHRyYW5zZmVycy5kYXRlLnZhbHVlLCAnJyx0cmFuc2ZlcnMudGl0bGUudmFsdWUpO1xyXG4gICAgXHJcbiAgICBkYi5jb2xsZWN0aW9uKCdiYW5rVHJhbnNmZXJzJykuYWRkKGJhbmtPYmplY3QpLnRoZW4oKCk9PntcclxuICAgICAgY29uc29sZS5sb2coJ3RyYW5zZmVyIGFkZGVkIHRvIGZpcmViYXNlJylcclxuICAgIH0pXHJcbiAgICBcclxuXHJcbiAgICB0cmFuc2ZlcnMucmVzZXQoKTsvLyByZXNldCgpIHJlc2V0dWplIHR5bGtvIGZvcm1cclxuICAgIC8vXHJcblxyXG4gICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdEhpZGUnKTtcclxuXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgYWxlcnQoJ1NlbGVjdCB0aGUgYmFuaycpLy9qZcWbbGkgbmllIHd5YmlvcsSZIGJhbmt1XHJcbiAgfVxyXG59XHJcbilcclxuXHJcbmNoZWNrYm94Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRhaW5lcl9fZG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWluZXJfX2RvbmUnKTtcclxuICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG5cclxuICAgIGNvbnRhaW5lcl9fZG9uZS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICBlLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhaW5lcl9fZG9uZS0taGlkZScpO1xyXG4gICAgfSlcclxuICB9XHJcbiAgZWxzZSB7IGNvbnRhaW5lcl9fZG9uZS5mb3JFYWNoKGUgPT4gZS5jbGFzc0xpc3QuYWRkKCdjb250YWluZXJfX2RvbmUtLWhpZGUnKSkgfVxyXG59XHJcblxyXG4vKioqKioqKiBSRUZSRVNTSCAqKioqKioqKioqKi9cclxuXHJcbi8vIGNvbnN0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuLy8gYmFua0FycmF5LmZvckVhY2goZSA9PiB7XHJcbi8vICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGUpO1xyXG4vLyAgIGNvbnN0IHsgYmFuaywgY2F0ZWdvcnksIGRhdGUsIHRpdGxlLCBhbW91bnQsIHN0YXR1cywgaWQsIGNvbnRhaW5lckNsYXNzLCBzdGF0dXNDaXJjbGVDbGFzcywgdGltZUxlZnRDbGFzcyB9ID0gZTtcclxuLy8gICBjb25zdCBtYmFua19jb250YWluZXIgPSBgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiIGlkPVwiJHtpZH1cIj5cclxuLy8gICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX19tYmFua1wiPiR7ZGF0ZX08L2Rpdj5cclxuLy8gICAgICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VcIiBzcmM9XCJhc3NldHMvaW1nL21iYW5rIDMweDMwLnBuZ1wiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiPiR7Y2F0ZWdvcnl9PC9kaXY+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXR1c0NpcmNsZSAke3N0YXR1c0NpcmNsZShkYXlzTGVmdChkYXRlKSl9XCI+PC9kaXY+XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzPVwidGltZUxlZnRcIj4ke2RheXNMZWZ0KGRhdGUpfSBkLjwvZGl2PiBcclxuLy8gICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW1vdW50fSB6xYI8L2Rpdj4gXHJcbi8vICAgICAgIDxwIGNsYXNzPVwidGl0bGVcIj4ke3RpdGxlfTwvcD5cclxuLy8gICAgICAgPGRpdiBjbGFzcz1cImNsb3NlXCI+XHJcbi8vICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25DbG9zZVwiPkNhbmNlbDwvYnV0dG9uPlxyXG4vLyAgICAgICA8YnV0dG9uIGNsYXNzID1cImJ1dHRvbkRvbmVcIj5Eb25lPC9idXR0b24+XHJcbi8vICAgICAgIDwvZGl2PiAgICAgICAgICBcclxuLy8gICAgIDwvZGl2PmA7XHJcbi8vICAgY29uc3QgcGtvX2NvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCIgaWQ9XCIke2lkfVwiPlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfX3Brb1wiPiR7ZGF0ZX08L2Rpdj5cclxuLy8gICAgICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuLy8gICAgICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VcIiBzcmM9XCJhc3NldHMvaW1nL3Brb2JwIDQ2N3g0ODUucG5nXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXRlZ29yeX08L2Rpdj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzQ2lyY2xlICR7c3RhdHVzQ2lyY2xlKGRheXNMZWZ0KGRhdGUpKX1cIj48L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdFwiPiR7ZGF5c0xlZnQoZGF0ZSl9IGQuPC9kaXY+IFxyXG4vLyAgICAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+JHthbW91bnR9PC9kaXY+IFxyXG4vLyAgICAgICA8cCBjbGFzcz1cInRpdGxlXCI+JHt0aXRsZX08L3A+XHJcbi8vICAgICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxyXG4vLyAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uQ2xvc2VcIj5DYW5jZWw8L2J1dHRvbj5cclxuLy8gICAgICAgPGJ1dHRvbiBjbGFzcyA9XCJidXR0b25Eb25lXCI+RG9uZTwvYnV0dG9uPlxyXG4vLyAgICAgICA8L2Rpdj4gICAgICAgICAgXHJcbi8vICAgICA8L2Rpdj5gO1xyXG4vLyAgIGNvbnN0IGRvbmVfY29udGFpbmVyID0gYDxkaXYgY2xhc3M9XCJjb250YWluZXIgY29udGFpbmVyX19kb25lIGNvbnRhaW5lcl9fZG9uZS0taGlkZVwiIGlkPSR7aWR9PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfX2RvbmVcIj4ke2RhdGV9PC9kaXY+XHJcbi8vICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbi8vICAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZV9fdHJhc2hCaW5cIiBzcmM9XCJhc3NldHMvaW1nL2RlbGV0ZSAzMHgzMC5wbmdcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4ke2NhdGVnb3J5fTwvZGl2PlxyXG4vLyAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2ltZy9jaGVja2VkIDY0eDY0LnBuZ1wiPlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPGRpdiBjbGFzcz1cInRpbWVMZWZ0IHRpbWVMZWZ0RG9uZVwiPjwvZGl2PiBcclxuLy8gICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW1vdW50fTwvZGl2PiBcclxuLy8gICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0bGV9PC9wPlxyXG4vLyAgICAgPC9kaXY+YDtcclxuLy8gICBpZiAoc3RhdHVzID09PSAnZG9uZScpIHtcclxuLy8gICAgIHVsLmlubmVySFRNTCArPSBkb25lX2NvbnRhaW5lcjtcclxuLy8gICB9XHJcbi8vICAgaWYgKGJhbmsgPT09ICdtQmFuaycgJiYgc3RhdHVzICE9ICdkb25lJykge1xyXG4vLyAgICAgdWwuaW5uZXJIVE1MICs9IG1iYW5rX2NvbnRhaW5lcjtcclxuLy8gICB9XHJcbi8vICAgaWYgKGJhbmsgPT09ICdQS08nICYmIHN0YXR1cyAhPSAnZG9uZScpIHtcclxuLy8gICAgIHVsLmlubmVySFRNTCArPSBwa29fY29udGFpbmVyO1xyXG4vLyAgIH1cclxuLy8gfSlcclxuXHJcbi8vIHVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbi8vICAgaWYoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0knIC8qICYmIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYXJyb3cnKSAqLyl7XHJcbi8vICAgfVxyXG5cclxuLy8gICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0RJVicgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZScpKSB7XHJcbi8vICAgICBlLnRhcmdldC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdidXR0b25DbG9zZS0tc2hvdycpO1xyXG4vLyAgICAgZS50YXJnZXQubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdidXR0b25Eb25lLS1zaG93Jyk7XHJcbi8vICAgfVxyXG4vLyAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnQlVUVE9OJyAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbkRvbmUnKSkge1xyXG4vLyAgICAgbGV0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuLy8gICAgIGNvbnN0IGNvbnRhaW5lcklkID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnaWQnKSk7XHJcbi8vICAgICBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnY29udGFpbmVyX19kb25lJywgJ2NvbnRhaW5lcl9fZG9uZS0taGlkZScpO1xyXG4vLyAgICAgYmFua0FycmF5LmZvckVhY2goZiA9PiB7XHJcbi8vICAgICAgIGlmIChjb250YWluZXJJZCA9PT0gZi5pZCkge1xyXG4vLyAgICAgICAgIGYuc3RhdHVzID0gJ2RvbmUnXHJcbi8vICAgICAgICAgY29uc3QgeyBkYXRlLCBjYXRlZ29yeSwgYW1vdW50LCB0aXRsZSB9ID0gZjtcclxuLy8gICAgICAgICBjb25zdCBzd2FwX19jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChKU09OLnN0cmluZ2lmeShjb250YWluZXJJZCkpO1xyXG4vLyAgICAgICAgIHN3YXBfX2NvbnRhaW5lci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInN0cmlwX19kb25lXCI+JHtkYXRlfTwvZGl2PlxyXG4vLyAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nb1dyYXBlclwiPlxyXG4vLyAgICAgICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VfX3RyYXNoQmluXCIgc3JjPVwiYXNzZXRzL2ltZy9kZWxldGUgMzB4MzAucG5nXCI+XHJcbi8vICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXRlZ29yeX08L2Rpdj5cclxuLy8gICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9pbWcvY2hlY2tlZCA2NHg2NC5wbmdcIj5cclxuLy8gICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdCB0aW1lTGVmdERvbmVcIj48L2Rpdj4gXHJcbi8vICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbW91bnRcIj4ke2Ftb3VudH08L2Rpdj4gXHJcbi8vICAgICAgICAgIDxwIGNsYXNzPVwidGl0bGVcIj4ke3RpdGxlfTwvcD5gO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9KVxyXG4vLyAgICAgY29uc3QgbG9jYWwgPSBKU09OLnN0cmluZ2lmeShiYW5rQXJyYXkpO1xyXG4vLyAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JhbmtBcnJheScsIGxvY2FsKTtcclxuLy8gICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlKCk7XHJcbi8vICAgfVxyXG4vLyAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbkNsb3NlJykpIHsvL3R1IHRyemViYSBwb3ByYXdpxIcgISFcclxuLy8gICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbkNsb3NlLS1zaG93Jyk7XHJcbi8vICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuLml0ZW0oMSkuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uRG9uZS0tc2hvdycpO1xyXG4vLyAgIH1cclxuLy8gICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbWFnZV9fdHJhc2hCaW4nKSkgey8vdXN1d2FuaWUgZWxlbWVudHUgeiBsaXN0eSBcclxuLy8gICAgIGNvbnN0IGNvbnRhaW5lcklkID0gcGFyc2VJbnQoZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSk7XHJcbi8vICAgICBjb25zdCBiYW5rQXJyYXkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYW5rQXJyYXknKSk7XHJcbi8vICAgICBsZXQgaW5kZXhEZWwgPSBudWxsO1xyXG4vLyAgICAgY29uc3QgaW5kZXhGdW4gPSAoZWxlbWVuZW50LCBpbmRleCkgPT4ge1xyXG4vLyAgICAgICBpZiAoZWxlbWVuZW50LmlkID09PSBjb250YWluZXJJZCkge1xyXG5jb25zb2xlLmxvZyhcIlRDTDogLy9pbmRleEZ1biAtPiBpZCBcIiwgaWQgKVxyXG4vLyAgICAgICAgIGluZGV4RGVsID0gaW5kZXhcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgIH1cclxuLy8gICAgIGJhbmtBcnJheS5mb3JFYWNoKGluZGV4RnVuKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGluZGV4RGVsKTtcclxuLy8gICAgIGJhbmtBcnJheS5zcGxpY2UoaW5kZXhEZWwsIDEpO1xyXG4vLyAgICAgY29uc3QgbG9jYWwgPSBKU09OLnN0cmluZ2lmeShiYW5rQXJyYXkpO1xyXG4vLyAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JhbmtBcnJheScsIGxvY2FsKTtcclxuLy8gICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcclxuXHJcbi8vICAgfVxyXG4vLyB9KVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3MtYnJvd3NlcmlmeS9icm93c2VyLmpzPzNjNDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQiw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1Qiw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxVQUFVOztBQUV6Qiw0QkFBNEI7O0FBRTVCLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5lbmRpYW5uZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xFJyB9O1xuXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH1cbiAgICBlbHNlIHJldHVybiAnJztcbn07XG5cbmV4cG9ydHMubG9hZGF2ZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG5leHBvcnRzLmZyZWVtZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy5jcHVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcblxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XG5cbmV4cG9ydHMucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXG49IGV4cG9ydHMuZ2V0TmV0d29ya0ludGVyZmFjZXNcbj0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge30gfTtcblxuZXhwb3J0cy5hcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2phdmFzY3JpcHQnIH07XG5cbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcblxuZXhwb3J0cy50bXBkaXIgPSBleHBvcnRzLnRtcERpciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJy90bXAnO1xufTtcblxuZXhwb3J0cy5FT0wgPSAnXFxuJztcblxuZXhwb3J0cy5ob21lZGlyID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gJy8nXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")}]);