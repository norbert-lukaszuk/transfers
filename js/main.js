!function(n){var c={};function t(e){if(c[e])return c[e].exports;var l=c[e]={i:e,l:!1,exports:{}};return n[e].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=n,t.c=c,t.d=function(n,c,e){t.o(n,c)||Object.defineProperty(n,c,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,c){if(1&c&&(n=t(n)),8&c)return n;if(4&c&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&c&&"string"!=typeof n)for(var l in n)t.d(e,l,function(c){return n[c]}.bind(null,l));return e},t.n=function(n){var c=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(c,"a",c),c},t.o=function(n,c){return Object.prototype.hasOwnProperty.call(n,c)},t.p="",t(t.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n\r\n\r\n// service worker registration - remove if you're not going to use it\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function() {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function(registration) {\r\n      // Registration was successful\r\n      console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function(err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\nconst addButon = document.querySelector('button.button');\r\nconst popup = document.querySelector('.popup');\r\nconst cancel = document.getElementById('cancel');\r\nconst backArrow = document.querySelector('.backArrow');\r\nconst date = document.getElementById('calendar');\r\nconst today = document.getElementById('calendar');\r\nlet bank = null;\r\nconst calendarPopup = document.querySelector('.calendar__popup');\r\nconst category = document.getElementById('category');\r\nconst title = document.getElementById('title');\r\nconst amount = document.getElementById('amount');\r\nconst okButton = document.getElementById('ok');\r\nconst calendarButton = document.getElementById('button__calendar');\r\nconst calendarBackArow = document.querySelector('.calendar__backArow');\r\nconst calendarWraper = document.querySelector('.calendar__wraper');\r\nconst newDate = new Date(date);\r\nconst transfer = document.querySelector('.transfer');\r\nconst ul = document.querySelector('ul');\r\nlet input = document.querySelector('.input')\r\nconst bankSelectWraper = document.querySelector('.bankSelectWraper');\r\nconst mbankIcon = document.getElementById('mbankIcon');\r\nconst pkoIcon = document.getElementById('pkoIcon');\r\nconst list = document.querySelector('.list');\r\n\r\nbankSelectWraper.addEventListener('click', e =>{\r\n  if(e.target.tagName === 'IMG' && e.target.id === 'mbankIcon'){\r\n    e.target.classList.toggle('bankClicked');\r\n    pkoIcon.classList.remove('bankClicked');\r\n    bank = 'mBank';\r\n  }\r\n  else if(e.target.tagName === 'IMG' && e.target.id === 'pkoIcon'){\r\n    e.target.classList.toggle('bankClicked');\r\n    mbankIcon.classList.remove('bankClicked');\r\n    bank = 'PKO';\r\n  }\r\n})\r\n/****Otwieranie popupa  */\r\naddButon.addEventListener('click', e =>{\r\n  popup.style.display = 'block';\r\n  list.classList.add('listHide');\r\n  today.valueAsDate = new Date(); //aktualna data w input date\r\n})\r\n\r\n/****** włączanie widoku kalendarza******/\r\ncalendarButton.addEventListener('click', e=>{\r\n  calendarPopup.classList.toggle('calendar__popup--show');\r\n  const today = new Date();\r\n  for(let i=0; i<12; i++){ \r\n    const calendarWraper = document.getElementById(i.toString());\r\n    // let daysInMonth = new Date(2020,i+1,0).getDate()//number of days in month\r\n    // const month = today.getMonth();\r\n    for(let j=1; j<=42; j++){\r\n      calendarWraper.innerHTML += `<div class=\"day\"></div>`;\r\n    }\r\n    // ułożenie prawidłowe dni w miesiącu\r\n    const days = calendarWraper.querySelectorAll('.day');\r\n    const firstDay = monthFirstDay(1,i,2020)-1;\r\n\r\n    for(let k= firstDay; k<(firstDay+daysInMonth(i)); k++){\r\n      // days[k].innerHTML +=`<span>${(k-firstDay)+1}</span>`;\r\n      days[k].innerHTML +=`<span class=\"day__number\">${(k-firstDay)+1}</span><span class=\"day__name\">${dayOfWeek((k-firstDay)+1,i,2020)}</span>`\r\n      if(days[k].lastElementChild.innerText==='Sun'){\r\n      days[k].classList.add('day--sunday');\r\n          }\r\n    }\r\n    const allDays = calendarWraper.querySelectorAll('.day');\r\n    // allDays.forEach(e=>{if(e.lastElementChild.innerText==='Sun'){e.lastElementChild.style.color='red'}});\r\n    \r\n  allDays.forEach(e=>{\r\n    \r\n    if(e.innerHTML==='' && window.innerWidth <=360){\r\n      e.classList.add('day__mobile--hide');\r\n    }\r\n    else if(e.innerHTML===''){e.classList.remove('day')}\r\n    \r\n  })\r\n\r\n  }\r\n  \r\n  \r\n  const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  bankArray.forEach(e =>{\r\n      // let bankArrayDate = parseInt(e.date.slice(8,10), 10);//parsuje stringa do liczby dziesiętnej '10' oznacza system liczb dzisiętnych\r\n      //   daysOfMonth.item(bankArrayDate-1).innerHTML += `<span class=\"day__category\">${e.category}</span>`;\r\n        let bankArrayDate = new Date(e.date);\r\n        let month = bankArrayDate.getMonth().toString();\r\n        let calendar__wraper = document.getElementById(month);\r\n        let day = bankArrayDate.getDate();\r\n        const daysInMonth = calendar__wraper.querySelectorAll('.day');\r\n        daysInMonth[day].innerHTML += `<span class=\"day__category\">${e.category}</span>`;\r\n        \r\n      })\r\n    \r\n    \r\n  })\r\n\r\ncalendarBackArow.addEventListener('click', e=>{\r\n  calendarPopup.classList.remove('calendar__popup--show');\r\n  const allDays = document.querySelectorAll('.day');\r\n  allDays.forEach(e=>{\r\n    e.remove();\r\n  })\r\n\r\n})\r\ncancel.addEventListener('click', e =>{\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n})\r\nbackArrow.addEventListener('click', e=>{\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n\r\n})\r\n\r\n/******** add new transfer ********/\r\nokButton.addEventListener('click', e =>{\r\n  let bankObject ={};\r\n  let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  if(bankArray===null){\r\n    bankArray = [];\r\n  }\r\n  if(bank != null){//warunek wykonania pętli \r\n    \r\n  \r\n  bankObject.bank = bank;\r\n  console.log(category);\r\n  bankObject.category = category.value;\r\n  bankObject.date = date.value;\r\n  bankObject.title = title.value;\r\n  bankObject.amount = amount.value;\r\n  bankObject.status = '';\r\n  const local = localStorage.getItem('keys')\r\n  let keys = JSON.parse(local);\r\n  transfer.reset();// reset() resetuje tylko form\r\n  const container = `<div class=\"container\">\r\n    <div class=\"strip\"></div>\r\n    <div class=\"logoWraper\">\r\n      <img class=\"image\" src=\"\">\r\n      <div class=\"category\"></div>\r\n      <div class=\"statusCircle\"></div>\r\n    </div>\r\n    <div class=\"timeLeft\"></div> \r\n    <div class=\"amount\"></div> \r\n    <p class=\"title\"></p>\r\n    <div class=\"close\">\r\n    <button class=\"buttonClose\">Cancel</button>\r\n    <button class =\"buttonDone\">Done</button>\r\n    </div>          \r\n  </div`;\r\n  ul.insertAdjacentHTML('afterbegin',container);\r\n  const containerId = document.querySelector('.container');\r\n  const image = document.querySelector('.image');\r\n  const strip = document.querySelector('.strip');\r\n  const categoryOutput = document.querySelector('.category');\r\n  const dateOutput = document.querySelector('.strip');\r\n  const titleOutput = document.querySelector('.title');\r\n  const daysLeft = document.querySelector('.timeLeft');\r\n  const amountOutput = document.querySelector('.amount');\r\n  const statusCircle = document.querySelector('.statusCircle');\r\n  const today = new Date();\r\n  const trasferDay = new Date(bankObject.date);\r\n  const timeLeft = Math.ceil( (trasferDay-today)/1000/60/60/24);\r\n  containerId.setAttribute('id',today.getTime());\r\n  bankObject.id = containerId.getAttribute('id');\r\n  /* Tu skończyłem dodawanie id dla container i zapisanie go w bankObject */\r\n  /* trzeba ogarnąć array.find() */\r\n  bankObject.containerClass = containerId.classList.value;\r\n  bankObject.statusCircleClass = statusCircle.classList.value;\r\n  bankObject.timeLeftClass = daysLeft.classList.value;\r\n  bankArray.push(bankObject);\r\n  localStorage.setItem('bankArray', JSON.stringify(bankArray));\r\n  if(timeLeft<=1){\r\n    statusCircle.style.backgroundColor = 'crimson';\r\n  }\r\n  else if(timeLeft < 3){\r\n    statusCircle.style.backgroundColor = 'orange';\r\n  }\r\n  if(bankObject.bank === 'mBank'){\r\n    dateOutput.innerText = bankObject.date;\r\n    strip.setAttribute('class', 'strip__mbank');\r\n    image.setAttribute('src','assets/img/mbank 30x30.png');\r\n    categoryOutput.innerText = bankObject.category;\r\n    titleOutput.innerText = bankObject.title;\r\n    amountOutput.innerText = `${bankObject.amount} zł`;\r\n    if(timeLeft>0){\r\n      daysLeft.innerText = `${timeLeft} d.`;\r\n    }\r\n    else if(timeLeft===0){\r\n      daysLeft.innerText = 'today'\r\n    }\r\n    else if(timeLeft<0){\r\n      daysLeft.innerText = `passed`\r\n    }\r\n    \r\n    \r\n    \r\n  }\r\n  else if(bankObject.bank === 'PKO'){\r\n    dateOutput.innerText = bankObject.date;\r\n    strip.setAttribute('class', 'strip__pko');\r\n    image.setAttribute('src','assets/img/pkobp 467x485.png');\r\n    categoryOutput.innerText = bankObject.category;\r\n    titleOutput.innerText = bankObject.title;\r\n    amountOutput.innerText = `${bankObject.amount} zł`;\r\n    if(timeLeft>0){\r\n      daysLeft.innerText = `${timeLeft} d.`;\r\n    }\r\n    else if(timeLeft===0){\r\n      daysLeft.innerText = 'today'\r\n    }\r\n    else if(timeLeft<0){\r\n      daysLeft.innerText = `passed`\r\n    }\r\n  }\r\n\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n  \r\n}\r\n    else{\r\n    alert('Select the bank')//jeśli nie wybiorę banku\r\n    }\r\n}\r\n)\r\n\r\nconst bankArray = JSON.parse(localStorage.getItem('bankArray'));//pobieranie array z kluczami \r\nif(bankArray != null){bankArray.sort((a,b)=> b.key - a.key);/* sortuje od największej do najmniejszej */\r\n\r\nbankArray.reverse();//odwraca na od najmniejszej do największej \r\n\r\n/******* REFRESSH ***********/\r\nfor(let i=0; i<bankArray.length;i++){  //pętla iterujące przez localStorage\r\n  //   /* get data from localStorage */\r\n    \r\n    const local = localStorage.getItem(bankArray[i]);//pobranie z localStorage elementu o danym w pętli kluczu\r\n    const bankObject = JSON.parse(local);//parsowanie do obiektu\r\n    const container = `<div class=\"container\">\r\n    <div class=\"strip\"></div>\r\n    <div class=\"logoWraper\">\r\n      <img class=\"image\" src=\"\">\r\n      <div class=\"category\"></div>\r\n      <div class=\"statusCircle\"></div>\r\n    </div>\r\n    <div class=\"timeLeft\"></div> \r\n    <div class=\"amount\"></div> \r\n    <p class=\"title\"></p>\r\n    <div class=\"close\">\r\n        <button class=\"buttonClose\">Cancel</button>\r\n        <button class =\"buttonDone\">Done</button>\r\n    </div>          \r\n  </div`;\r\n  ul.insertAdjacentHTML('afterbegin',container);\r\n  const close = document.querySelector('.close');\r\n  const containerId = document.querySelector('.container');\r\n  const image = document.querySelector('.image');\r\n  const strip = document.querySelector('.strip');\r\n  const categoryOutput = document.querySelector('.category');\r\n  const dateOutput = document.querySelector('.strip');\r\n  const titleOutput = document.querySelector('.title');\r\n  const daysLeft = document.querySelector('.timeLeft');\r\n  const amountOutput = document.querySelector('.amount');\r\n  const statusCircle = document.querySelector('.statusCircle');\r\n  const today = new Date();\r\n  const trasferDay = new Date(bankArray[i].date);\r\n  const timeLeft = Math.ceil( (trasferDay-today)/1000/60/60/24);\r\n  containerId.setAttribute('id', bankArray[i].id);\r\n  const containerClass = bankArray[i].containerClass.split(' ');\r\n  containerId.classList.add(...containerClass);\r\n  const statusCircleClass = bankArray[i].statusCircleClass.split(' ');\r\n  statusCircle.classList.add(...statusCircleClass);\r\n  const timeLeftClass = bankArray[i].timeLeftClass.split(' ');\r\n  daysLeft.classList.add(...timeLeftClass);\r\n  const trashBin = '<img class=\"trashBin\" src=\"assets/img/delete 30x30.png\" alt=\"trashBin icon\">';\r\n  const status =  bankArray[i].status;\r\n  if(bankArray[i].status === 'done'){\r\n      close.remove();\r\n      \r\n     \r\n      daysLeft.classList.remove('timeLeftDone');\r\n  }\r\n   if(timeLeft<=1 && bankArray[i].status!='done'){\r\n    statusCircle.style.backgroundColor = 'crimson';\r\n  }\r\n  else if(timeLeft < 3 && bankArray[i].status!='done'){\r\n    statusCircle.style.backgroundColor = 'orange';\r\n  }\r\n  /* mBank template */\r\n  if(bankArray[i].bank === 'mBank'){\r\n\r\n    dateOutput.innerText = bankArray[i].date;\r\n    strip.setAttribute('class', 'strip__mbank');\r\n    image.setAttribute('src','assets/img/mbank 30x30.png');\r\n    categoryOutput.innerText = bankArray[i].category;\r\n    titleOutput.innerText = bankArray[i].title;\r\n    amountOutput.innerText = `${bankArray[i].amount} zł`;\r\n    if(status === 'done'){\r\n      daysLeft.innerHTML = trashBin;\r\n    }\r\n    else if(timeLeft>0){\r\n      daysLeft.innerText = `${timeLeft} d.`;\r\n    }\r\n    else if(timeLeft===0){\r\n      daysLeft.innerText = 'today'\r\n    }\r\n    else if(timeLeft<0){\r\n      daysLeft.innerText = `passed`\r\n    }\r\n\r\n  }\r\n  /* PKO tamplate */\r\n  else if(bankArray[i].bank === 'PKO'){\r\n    dateOutput.innerText = bankArray[i].date;\r\n    strip.setAttribute('class', 'strip__pko');\r\n    image.setAttribute('src','assets/img/pkobp 467x485.png');\r\n    categoryOutput.innerText = bankArray[i].category;\r\n    titleOutput.innerText = bankArray[i].title;\r\n    amountOutput.innerText = `${bankArray[i].amount} zł`;\r\n    if(status === 'done'){\r\n      daysLeft.innerHTML = trashBin;\r\n    }\r\n    else if(timeLeft>0){\r\n      daysLeft.innerText = `${timeLeft} d.`;\r\n    }\r\n    else if(timeLeft===0){\r\n      daysLeft.innerText = 'today'\r\n    }\r\n    else if(timeLeft<0){\r\n      daysLeft.innerText = `passed`\r\n    }\r\n  }\r\n  }\r\n}\r\nul.addEventListener('click', e =>{\r\n   \r\n  if(e.target.tagName === 'DIV' && e.target.classList.contains('close')){\r\n    e.target.children.item(0).classList.add('buttonClose--show');\r\n    e.target.children.item(1).classList.add('buttonDone--show');\r\n  }\r\n  if(e.target.tagName ==='BUTTON' && e.target.classList.contains('buttonDone')){\r\n    let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n    e.target.parentNode.parentNode.classList.add('containerDone');\r\n    const containerId = e.target.parentNode.parentNode.getAttribute('id');\r\n    const timeLeft = e.target.parentNode.parentNode.querySelector('.timeLeft');\r\n    \r\n    const trashBin = '<img class=\"trashBin\" src=\"assets/img/delete 30x30.png\" alt=\"trashBin icon\">';\r\n    timeLeft.innerHTML += trashBin;\r\n    timeLeft.classList.add('timeLeftDone');\r\n    \r\n    \r\n   \r\n      e.target.parentNode.parentNode.children.item(2).classList.add('timeLeftDone');//time left div\r\n      e.target.parentNode.parentNode.children.item(1).lastElementChild.classList.add('statusCircleDone');//status circle\r\n\r\n     \r\n    for(let i=0; i<bankArray.length; i++){\r\n      const objectValues = Object.values(bankArray[i]);\r\n      const includes = objectValues.includes(containerId);\r\n      \r\n      if(includes===true){\r\n        bankArray[i].containerClass = e.target.parentNode.parentNode.classList.value;\r\n        bankArray[i].timeLeftClass = e.target.parentNode.parentNode.children.item(2).classList.value;\r\n        bankArray[i].statusCircleClass = e.target.parentNode.parentNode.children.item(1).lastElementChild.classList.value;\r\n        bankArray[i].status = 'done';\r\n        console.log(bankArray[i].containerClass);\r\n        const local = JSON.stringify(bankArray);\r\n        localStorage.setItem('bankArray',local);\r\n      }\r\n      \r\n    }\r\n    e.target.parentNode.remove();\r\n  }\r\n  if(e.target.classList.contains('buttonClose')){//tu trzeba poprawić !!\r\n    e.target.classList.remove('buttonClose--show');\r\n    e.target.parentElement.children.item(1).classList.remove('buttonDone--show');\r\n  }\r\n  if(e.target.classList.contains('trashBin')){//usuwanie elementu z listy \r\n    const containerId = e.target.parentElement.parentElement.getAttribute('id');\r\n    e.target.parentElement.parentElement.remove();\r\n\r\n    for(let i=0; i<bankArray.length; i++){//usuwanie elementu z localStorage\r\n      const objectValues = Object.values(bankArray[i]);\r\n      const includes = objectValues.includes(containerId);\r\n      if(includes===true){\r\n        bankArray.splice(i,1);\r\n        const local = JSON.stringify(bankArray);\r\n        localStorage.setItem('bankArray',local);\r\n      }\r\n    }\r\n  }\r\n  })\r\n  const daysInMonth = (month) =>{\r\n    return new Date(2020,month+1,0).getDate()\r\n  }\r\n  const dayOfWeek = (day, month, year)=>{\r\n    const dayNumber = new Date(year, month, day).getDay();\r\n\r\n    switch(dayNumber){\r\n      case 0:\r\n        return 'Sun';\r\n        break;\r\n      case 1:\r\n        return 'Mon';\r\n        break;\r\n      case 2:\r\n        return 'Tue';\r\n        break;\r\n      case 3:\r\n        return 'Wen';\r\n        break;\r\n      case 4:\r\n        return 'Thu';\r\n        break;\r\n      case 5:\r\n        return 'Fri';\r\n        break;\r\n      case 6:\r\n        return 'Sat';\r\n        break;\r\n    }\r\n  }\r\n  const monthFirstDay = (day, month, year)=>{\r\n    const startDay = new Date(year, month, day).getDay();\r\n    if (startDay===0){\r\n      return 7\r\n    }\r\n    else{return startDay}\r\n  }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFhOztBQUVhOztBQUUxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU0sTTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3Qiw2QkFBNkI7QUFDckQsc0NBQXNDLGVBQWU7QUFDckQsdURBQXVELGVBQWUsaUNBQWlDLGlDQUFpQztBQUN4STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlDQUF5QyxzQ0FBc0M7O0FBRTFHOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qjs7QUFFOUIsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RCx5RkFBeUYsV0FBVztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFdBQVc7O0FBRWhGLE9BQU87OztBQUdQLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjs7O0FBR25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrQkFBa0I7QUFDbEQ7QUFDQSw4QkFBOEIsU0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtCQUFrQjtBQUNsRDtBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFO0FBQ2hFLHNCQUFzQixzQ0FBc0M7O0FBRTVELG9CQUFvQjs7QUFFcEI7QUFDQSxZQUFZLG9CQUFvQixLQUFLO0FBQ3JDOztBQUVBLHFEQUFxRDtBQUNyRCx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0JBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFNBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsU0FBUztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFJQSxvRkFBb0Y7QUFDcEYseUdBQXlHOzs7QUFHekcsZ0JBQWdCLG9CQUFvQjtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7O0FBRUEsZ0JBQWdCLG9CQUFvQixNQUFNO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IHsgdHlwZSB9IGZyb20gXCJvc1wiO1xyXG5cclxuLy8gc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uIC0gcmVtb3ZlIGlmIHlvdSdyZSBub3QgZ29pbmcgdG8gdXNlIGl0XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZXdvcmtlci5qcycpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgIC8vIFJlZ2lzdHJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxyXG4gICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bCB3aXRoIHNjb3BlOiAnLCByZWdpc3RyYXRpb24uc2NvcGUpO1xyXG4gICAgfSwgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgIC8vIHJlZ2lzdHJhdGlvbiBmYWlsZWQgOihcclxuICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmNvbnN0IGFkZEJ1dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uLmJ1dHRvbicpO1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5jb25zdCBjYW5jZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsJyk7XHJcbmNvbnN0IGJhY2tBcnJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrQXJyb3cnKTtcclxuY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcicpO1xyXG5jb25zdCB0b2RheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYWxlbmRhcicpO1xyXG5sZXQgYmFuayA9IG51bGw7XHJcbmNvbnN0IGNhbGVuZGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsZW5kYXJfX3BvcHVwJyk7XHJcbmNvbnN0IGNhdGVnb3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhdGVnb3J5Jyk7XHJcbmNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7XHJcbmNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbW91bnQnKTtcclxuY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2snKTtcclxuY29uc3QgY2FsZW5kYXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uX19jYWxlbmRhcicpO1xyXG5jb25zdCBjYWxlbmRhckJhY2tBcm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGVuZGFyX19iYWNrQXJvdycpO1xyXG5jb25zdCBjYWxlbmRhcldyYXBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxlbmRhcl9fd3JhcGVyJyk7XHJcbmNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuY29uc3QgdHJhbnNmZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJhbnNmZXInKTtcclxuY29uc3QgdWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xyXG5sZXQgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKVxyXG5jb25zdCBiYW5rU2VsZWN0V3JhcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbmtTZWxlY3RXcmFwZXInKTtcclxuY29uc3QgbWJhbmtJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21iYW5rSWNvbicpO1xyXG5jb25zdCBwa29JY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Brb0ljb24nKTtcclxuY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0Jyk7XHJcblxyXG5iYW5rU2VsZWN0V3JhcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PntcclxuICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnSU1HJyAmJiBlLnRhcmdldC5pZCA9PT0gJ21iYW5rSWNvbicpe1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIHBrb0ljb24uY2xhc3NMaXN0LnJlbW92ZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIGJhbmsgPSAnbUJhbmsnO1xyXG4gIH1cclxuICBlbHNlIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJTUcnICYmIGUudGFyZ2V0LmlkID09PSAncGtvSWNvbicpe1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIG1iYW5rSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdiYW5rQ2xpY2tlZCcpO1xyXG4gICAgYmFuayA9ICdQS08nO1xyXG4gIH1cclxufSlcclxuLyoqKipPdHdpZXJhbmllIHBvcHVwYSAgKi9cclxuYWRkQnV0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+e1xyXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGxpc3QuY2xhc3NMaXN0LmFkZCgnbGlzdEhpZGUnKTtcclxuICB0b2RheS52YWx1ZUFzRGF0ZSA9IG5ldyBEYXRlKCk7IC8vYWt0dWFsbmEgZGF0YSB3IGlucHV0IGRhdGVcclxufSlcclxuXHJcbi8qKioqKiogd8WCxIVjemFuaWUgd2lkb2t1IGthbGVuZGFyemEqKioqKiovXHJcbmNhbGVuZGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZT0+e1xyXG4gIGNhbGVuZGFyUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnY2FsZW5kYXJfX3BvcHVwLS1zaG93Jyk7XHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIGZvcihsZXQgaT0wOyBpPDEyOyBpKyspeyBcclxuICAgIGNvbnN0IGNhbGVuZGFyV3JhcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaS50b1N0cmluZygpKTtcclxuICAgIC8vIGxldCBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKDIwMjAsaSsxLDApLmdldERhdGUoKS8vbnVtYmVyIG9mIGRheXMgaW4gbW9udGhcclxuICAgIC8vIGNvbnN0IG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKTtcclxuICAgIGZvcihsZXQgaj0xOyBqPD00MjsgaisrKXtcclxuICAgICAgY2FsZW5kYXJXcmFwZXIuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPVwiZGF5XCI+PC9kaXY+YDtcclxuICAgIH1cclxuICAgIC8vIHXFgm/FvGVuaWUgcHJhd2lkxYJvd2UgZG5pIHcgbWllc2nEhWN1XHJcbiAgICBjb25zdCBkYXlzID0gY2FsZW5kYXJXcmFwZXIucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gICAgY29uc3QgZmlyc3REYXkgPSBtb250aEZpcnN0RGF5KDEsaSwyMDIwKS0xO1xyXG5cclxuICAgIGZvcihsZXQgaz0gZmlyc3REYXk7IGs8KGZpcnN0RGF5K2RheXNJbk1vbnRoKGkpKTsgaysrKXtcclxuICAgICAgLy8gZGF5c1trXS5pbm5lckhUTUwgKz1gPHNwYW4+JHsoay1maXJzdERheSkrMX08L3NwYW4+YDtcclxuICAgICAgZGF5c1trXS5pbm5lckhUTUwgKz1gPHNwYW4gY2xhc3M9XCJkYXlfX251bWJlclwiPiR7KGstZmlyc3REYXkpKzF9PC9zcGFuPjxzcGFuIGNsYXNzPVwiZGF5X19uYW1lXCI+JHtkYXlPZldlZWsoKGstZmlyc3REYXkpKzEsaSwyMDIwKX08L3NwYW4+YFxyXG4gICAgICBpZihkYXlzW2tdLmxhc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0PT09J1N1bicpe1xyXG4gICAgICBkYXlzW2tdLmNsYXNzTGlzdC5hZGQoJ2RheS0tc3VuZGF5Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBhbGxEYXlzID0gY2FsZW5kYXJXcmFwZXIucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gICAgLy8gYWxsRGF5cy5mb3JFYWNoKGU9PntpZihlLmxhc3RFbGVtZW50Q2hpbGQuaW5uZXJUZXh0PT09J1N1bicpe2UubGFzdEVsZW1lbnRDaGlsZC5zdHlsZS5jb2xvcj0ncmVkJ319KTtcclxuICAgIFxyXG4gIGFsbERheXMuZm9yRWFjaChlPT57XHJcbiAgICBcclxuICAgIGlmKGUuaW5uZXJIVE1MPT09JycgJiYgd2luZG93LmlubmVyV2lkdGggPD0zNjApe1xyXG4gICAgICBlLmNsYXNzTGlzdC5hZGQoJ2RheV9fbW9iaWxlLS1oaWRlJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGUuaW5uZXJIVE1MPT09Jycpe2UuY2xhc3NMaXN0LnJlbW92ZSgnZGF5Jyl9XHJcbiAgICBcclxuICB9KVxyXG5cclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgY29uc3QgYmFua0FycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFua0FycmF5JykpO1xyXG4gIGJhbmtBcnJheS5mb3JFYWNoKGUgPT57XHJcbiAgICAgIC8vIGxldCBiYW5rQXJyYXlEYXRlID0gcGFyc2VJbnQoZS5kYXRlLnNsaWNlKDgsMTApLCAxMCk7Ly9wYXJzdWplIHN0cmluZ2EgZG8gbGljemJ5IGR6aWVzacSZdG5laiAnMTAnIG96bmFjemEgc3lzdGVtIGxpY3piIGR6aXNpxJl0bnljaFxyXG4gICAgICAvLyAgIGRheXNPZk1vbnRoLml0ZW0oYmFua0FycmF5RGF0ZS0xKS5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzPVwiZGF5X19jYXRlZ29yeVwiPiR7ZS5jYXRlZ29yeX08L3NwYW4+YDtcclxuICAgICAgICBsZXQgYmFua0FycmF5RGF0ZSA9IG5ldyBEYXRlKGUuZGF0ZSk7XHJcbiAgICAgICAgbGV0IG1vbnRoID0gYmFua0FycmF5RGF0ZS5nZXRNb250aCgpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IGNhbGVuZGFyX193cmFwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb250aCk7XHJcbiAgICAgICAgbGV0IGRheSA9IGJhbmtBcnJheURhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IGRheXNJbk1vbnRoID0gY2FsZW5kYXJfX3dyYXBlci5xdWVyeVNlbGVjdG9yQWxsKCcuZGF5Jyk7XHJcbiAgICAgICAgZGF5c0luTW9udGhbZGF5XS5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzPVwiZGF5X19jYXRlZ29yeVwiPiR7ZS5jYXRlZ29yeX08L3NwYW4+YDtcclxuICAgICAgICBcclxuICAgICAgfSlcclxuICAgIFxyXG4gICAgXHJcbiAgfSlcclxuXHJcbmNhbGVuZGFyQmFja0Fyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlPT57XHJcbiAgY2FsZW5kYXJQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdjYWxlbmRhcl9fcG9wdXAtLXNob3cnKTtcclxuICBjb25zdCBhbGxEYXlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gIGFsbERheXMuZm9yRWFjaChlPT57XHJcbiAgICBlLnJlbW92ZSgpO1xyXG4gIH0pXHJcblxyXG59KVxyXG5jYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+e1xyXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdsaXN0SGlkZScpO1xyXG59KVxyXG5iYWNrQXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlPT57XHJcbiAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2xpc3RIaWRlJyk7XHJcblxyXG59KVxyXG5cclxuLyoqKioqKioqIGFkZCBuZXcgdHJhbnNmZXIgKioqKioqKiovXHJcbm9rQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PntcclxuICBsZXQgYmFua09iamVjdCA9e307XHJcbiAgbGV0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuICBpZihiYW5rQXJyYXk9PT1udWxsKXtcclxuICAgIGJhbmtBcnJheSA9IFtdO1xyXG4gIH1cclxuICBpZihiYW5rICE9IG51bGwpey8vd2FydW5layB3eWtvbmFuaWEgcMSZdGxpIFxyXG4gICAgXHJcbiAgXHJcbiAgYmFua09iamVjdC5iYW5rID0gYmFuaztcclxuICBjb25zb2xlLmxvZyhjYXRlZ29yeSk7XHJcbiAgYmFua09iamVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5LnZhbHVlO1xyXG4gIGJhbmtPYmplY3QuZGF0ZSA9IGRhdGUudmFsdWU7XHJcbiAgYmFua09iamVjdC50aXRsZSA9IHRpdGxlLnZhbHVlO1xyXG4gIGJhbmtPYmplY3QuYW1vdW50ID0gYW1vdW50LnZhbHVlO1xyXG4gIGJhbmtPYmplY3Quc3RhdHVzID0gJyc7XHJcbiAgY29uc3QgbG9jYWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2V5cycpXHJcbiAgbGV0IGtleXMgPSBKU09OLnBhcnNlKGxvY2FsKTtcclxuICB0cmFuc2Zlci5yZXNldCgpOy8vIHJlc2V0KCkgcmVzZXR1amUgdHlsa28gZm9ybVxyXG4gIGNvbnN0IGNvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwic3RyaXBcIj48L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbiAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZVwiIHNyYz1cIlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInN0YXR1c0NpcmNsZVwiPjwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidGltZUxlZnRcIj48L2Rpdj4gXHJcbiAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+PC9kaXY+IFxyXG4gICAgPHAgY2xhc3M9XCJ0aXRsZVwiPjwvcD5cclxuICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxyXG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbkNsb3NlXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGNsYXNzID1cImJ1dHRvbkRvbmVcIj5Eb25lPC9idXR0b24+XHJcbiAgICA8L2Rpdj4gICAgICAgICAgXHJcbiAgPC9kaXZgO1xyXG4gIHVsLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsY29udGFpbmVyKTtcclxuICBjb25zdCBjb250YWluZXJJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcclxuICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZScpO1xyXG4gIGNvbnN0IHN0cmlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0cmlwJyk7XHJcbiAgY29uc3QgY2F0ZWdvcnlPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcnknKTtcclxuICBjb25zdCBkYXRlT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0cmlwJyk7XHJcbiAgY29uc3QgdGl0bGVPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICBjb25zdCBkYXlzTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aW1lTGVmdCcpO1xyXG4gIGNvbnN0IGFtb3VudE91dHB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbW91bnQnKTtcclxuICBjb25zdCBzdGF0dXNDaXJjbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhdHVzQ2lyY2xlJyk7XHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHRyYXNmZXJEYXkgPSBuZXcgRGF0ZShiYW5rT2JqZWN0LmRhdGUpO1xyXG4gIGNvbnN0IHRpbWVMZWZ0ID0gTWF0aC5jZWlsKCAodHJhc2ZlckRheS10b2RheSkvMTAwMC82MC82MC8yNCk7XHJcbiAgY29udGFpbmVySWQuc2V0QXR0cmlidXRlKCdpZCcsdG9kYXkuZ2V0VGltZSgpKTtcclxuICBiYW5rT2JqZWN0LmlkID0gY29udGFpbmVySWQuZ2V0QXR0cmlidXRlKCdpZCcpO1xyXG4gIC8qIFR1IHNrb8WEY3p5xYJlbSBkb2Rhd2FuaWUgaWQgZGxhIGNvbnRhaW5lciBpIHphcGlzYW5pZSBnbyB3IGJhbmtPYmplY3QgKi9cclxuICAvKiB0cnplYmEgb2dhcm7EhcSHIGFycmF5LmZpbmQoKSAqL1xyXG4gIGJhbmtPYmplY3QuY29udGFpbmVyQ2xhc3MgPSBjb250YWluZXJJZC5jbGFzc0xpc3QudmFsdWU7XHJcbiAgYmFua09iamVjdC5zdGF0dXNDaXJjbGVDbGFzcyA9IHN0YXR1c0NpcmNsZS5jbGFzc0xpc3QudmFsdWU7XHJcbiAgYmFua09iamVjdC50aW1lTGVmdENsYXNzID0gZGF5c0xlZnQuY2xhc3NMaXN0LnZhbHVlO1xyXG4gIGJhbmtBcnJheS5wdXNoKGJhbmtPYmplY3QpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYW5rQXJyYXknLCBKU09OLnN0cmluZ2lmeShiYW5rQXJyYXkpKTtcclxuICBpZih0aW1lTGVmdDw9MSl7XHJcbiAgICBzdGF0dXNDaXJjbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2NyaW1zb24nO1xyXG4gIH1cclxuICBlbHNlIGlmKHRpbWVMZWZ0IDwgMyl7XHJcbiAgICBzdGF0dXNDaXJjbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ29yYW5nZSc7XHJcbiAgfVxyXG4gIGlmKGJhbmtPYmplY3QuYmFuayA9PT0gJ21CYW5rJyl7XHJcbiAgICBkYXRlT3V0cHV0LmlubmVyVGV4dCA9IGJhbmtPYmplY3QuZGF0ZTtcclxuICAgIHN0cmlwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3RyaXBfX21iYW5rJyk7XHJcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsJ2Fzc2V0cy9pbWcvbWJhbmsgMzB4MzAucG5nJyk7XHJcbiAgICBjYXRlZ29yeU91dHB1dC5pbm5lclRleHQgPSBiYW5rT2JqZWN0LmNhdGVnb3J5O1xyXG4gICAgdGl0bGVPdXRwdXQuaW5uZXJUZXh0ID0gYmFua09iamVjdC50aXRsZTtcclxuICAgIGFtb3VudE91dHB1dC5pbm5lclRleHQgPSBgJHtiYW5rT2JqZWN0LmFtb3VudH0gesWCYDtcclxuICAgIGlmKHRpbWVMZWZ0PjApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgJHt0aW1lTGVmdH0gZC5gO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZih0aW1lTGVmdD09PTApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSAndG9kYXknXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRpbWVMZWZ0PDApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgcGFzc2VkYFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gIH1cclxuICBlbHNlIGlmKGJhbmtPYmplY3QuYmFuayA9PT0gJ1BLTycpe1xyXG4gICAgZGF0ZU91dHB1dC5pbm5lclRleHQgPSBiYW5rT2JqZWN0LmRhdGU7XHJcbiAgICBzdHJpcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3N0cmlwX19wa28nKTtcclxuICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywnYXNzZXRzL2ltZy9wa29icCA0Njd4NDg1LnBuZycpO1xyXG4gICAgY2F0ZWdvcnlPdXRwdXQuaW5uZXJUZXh0ID0gYmFua09iamVjdC5jYXRlZ29yeTtcclxuICAgIHRpdGxlT3V0cHV0LmlubmVyVGV4dCA9IGJhbmtPYmplY3QudGl0bGU7XHJcbiAgICBhbW91bnRPdXRwdXQuaW5uZXJUZXh0ID0gYCR7YmFua09iamVjdC5hbW91bnR9IHrFgmA7XHJcbiAgICBpZih0aW1lTGVmdD4wKXtcclxuICAgICAgZGF5c0xlZnQuaW5uZXJUZXh0ID0gYCR7dGltZUxlZnR9IGQuYDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYodGltZUxlZnQ9PT0wKXtcclxuICAgICAgZGF5c0xlZnQuaW5uZXJUZXh0ID0gJ3RvZGF5J1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZih0aW1lTGVmdDwwKXtcclxuICAgICAgZGF5c0xlZnQuaW5uZXJUZXh0ID0gYHBhc3NlZGBcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgbGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdsaXN0SGlkZScpO1xyXG4gIFxyXG59XHJcbiAgICBlbHNle1xyXG4gICAgYWxlcnQoJ1NlbGVjdCB0aGUgYmFuaycpLy9qZcWbbGkgbmllIHd5YmlvcsSZIGJhbmt1XHJcbiAgICB9XHJcbn1cclxuKVxyXG5cclxuY29uc3QgYmFua0FycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFua0FycmF5JykpOy8vcG9iaWVyYW5pZSBhcnJheSB6IGtsdWN6YW1pIFxyXG5pZihiYW5rQXJyYXkgIT0gbnVsbCl7YmFua0FycmF5LnNvcnQoKGEsYik9PiBiLmtleSAtIGEua2V5KTsvKiBzb3J0dWplIG9kIG5handpxJlrc3plaiBkbyBuYWptbmllanN6ZWogKi9cclxuXHJcbmJhbmtBcnJheS5yZXZlcnNlKCk7Ly9vZHdyYWNhIG5hIG9kIG5ham1uaWVqc3plaiBkbyBuYWp3acSZa3N6ZWogXHJcblxyXG4vKioqKioqKiBSRUZSRVNTSCAqKioqKioqKioqKi9cclxuZm9yKGxldCBpPTA7IGk8YmFua0FycmF5Lmxlbmd0aDtpKyspeyAgLy9wxJl0bGEgaXRlcnVqxIVjZSBwcnpleiBsb2NhbFN0b3JhZ2VcclxuICAvLyAgIC8qIGdldCBkYXRhIGZyb20gbG9jYWxTdG9yYWdlICovXHJcbiAgICBcclxuICAgIGNvbnN0IGxvY2FsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYmFua0FycmF5W2ldKTsvL3BvYnJhbmllIHogbG9jYWxTdG9yYWdlIGVsZW1lbnR1IG8gZGFueW0gdyBwxJl0bGkga2x1Y3p1XHJcbiAgICBjb25zdCBiYW5rT2JqZWN0ID0gSlNPTi5wYXJzZShsb2NhbCk7Ly9wYXJzb3dhbmllIGRvIG9iaWVrdHVcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwic3RyaXBcIj48L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbiAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZVwiIHNyYz1cIlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInN0YXR1c0NpcmNsZVwiPjwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidGltZUxlZnRcIj48L2Rpdj4gXHJcbiAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+PC9kaXY+IFxyXG4gICAgPHAgY2xhc3M9XCJ0aXRsZVwiPjwvcD5cclxuICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25DbG9zZVwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3MgPVwiYnV0dG9uRG9uZVwiPkRvbmU8L2J1dHRvbj5cclxuICAgIDwvZGl2PiAgICAgICAgICBcclxuICA8L2RpdmA7XHJcbiAgdWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJyxjb250YWluZXIpO1xyXG4gIGNvbnN0IGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJyk7XHJcbiAgY29uc3QgY29udGFpbmVySWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7XHJcbiAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UnKTtcclxuICBjb25zdCBzdHJpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdHJpcCcpO1xyXG4gIGNvbnN0IGNhdGVnb3J5T3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5Jyk7XHJcbiAgY29uc3QgZGF0ZU91dHB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdHJpcCcpO1xyXG4gIGNvbnN0IHRpdGxlT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XHJcbiAgY29uc3QgZGF5c0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGltZUxlZnQnKTtcclxuICBjb25zdCBhbW91bnRPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW1vdW50Jyk7XHJcbiAgY29uc3Qgc3RhdHVzQ2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXR1c0NpcmNsZScpO1xyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICBjb25zdCB0cmFzZmVyRGF5ID0gbmV3IERhdGUoYmFua0FycmF5W2ldLmRhdGUpO1xyXG4gIGNvbnN0IHRpbWVMZWZ0ID0gTWF0aC5jZWlsKCAodHJhc2ZlckRheS10b2RheSkvMTAwMC82MC82MC8yNCk7XHJcbiAgY29udGFpbmVySWQuc2V0QXR0cmlidXRlKCdpZCcsIGJhbmtBcnJheVtpXS5pZCk7XHJcbiAgY29uc3QgY29udGFpbmVyQ2xhc3MgPSBiYW5rQXJyYXlbaV0uY29udGFpbmVyQ2xhc3Muc3BsaXQoJyAnKTtcclxuICBjb250YWluZXJJZC5jbGFzc0xpc3QuYWRkKC4uLmNvbnRhaW5lckNsYXNzKTtcclxuICBjb25zdCBzdGF0dXNDaXJjbGVDbGFzcyA9IGJhbmtBcnJheVtpXS5zdGF0dXNDaXJjbGVDbGFzcy5zcGxpdCgnICcpO1xyXG4gIHN0YXR1c0NpcmNsZS5jbGFzc0xpc3QuYWRkKC4uLnN0YXR1c0NpcmNsZUNsYXNzKTtcclxuICBjb25zdCB0aW1lTGVmdENsYXNzID0gYmFua0FycmF5W2ldLnRpbWVMZWZ0Q2xhc3Muc3BsaXQoJyAnKTtcclxuICBkYXlzTGVmdC5jbGFzc0xpc3QuYWRkKC4uLnRpbWVMZWZ0Q2xhc3MpO1xyXG4gIGNvbnN0IHRyYXNoQmluID0gJzxpbWcgY2xhc3M9XCJ0cmFzaEJpblwiIHNyYz1cImFzc2V0cy9pbWcvZGVsZXRlIDMweDMwLnBuZ1wiIGFsdD1cInRyYXNoQmluIGljb25cIj4nO1xyXG4gIGNvbnN0IHN0YXR1cyA9ICBiYW5rQXJyYXlbaV0uc3RhdHVzO1xyXG4gIGlmKGJhbmtBcnJheVtpXS5zdGF0dXMgPT09ICdkb25lJyl7XHJcbiAgICAgIGNsb3NlLnJlbW92ZSgpO1xyXG4gICAgICBcclxuICAgICBcclxuICAgICAgZGF5c0xlZnQuY2xhc3NMaXN0LnJlbW92ZSgndGltZUxlZnREb25lJyk7XHJcbiAgfVxyXG4gICBpZih0aW1lTGVmdDw9MSAmJiBiYW5rQXJyYXlbaV0uc3RhdHVzIT0nZG9uZScpe1xyXG4gICAgc3RhdHVzQ2lyY2xlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdjcmltc29uJztcclxuICB9XHJcbiAgZWxzZSBpZih0aW1lTGVmdCA8IDMgJiYgYmFua0FycmF5W2ldLnN0YXR1cyE9J2RvbmUnKXtcclxuICAgIHN0YXR1c0NpcmNsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnb3JhbmdlJztcclxuICB9XHJcbiAgLyogbUJhbmsgdGVtcGxhdGUgKi9cclxuICBpZihiYW5rQXJyYXlbaV0uYmFuayA9PT0gJ21CYW5rJyl7XHJcblxyXG4gICAgZGF0ZU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0uZGF0ZTtcclxuICAgIHN0cmlwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3RyaXBfX21iYW5rJyk7XHJcbiAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsJ2Fzc2V0cy9pbWcvbWJhbmsgMzB4MzAucG5nJyk7XHJcbiAgICBjYXRlZ29yeU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0uY2F0ZWdvcnk7XHJcbiAgICB0aXRsZU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0udGl0bGU7XHJcbiAgICBhbW91bnRPdXRwdXQuaW5uZXJUZXh0ID0gYCR7YmFua0FycmF5W2ldLmFtb3VudH0gesWCYDtcclxuICAgIGlmKHN0YXR1cyA9PT0gJ2RvbmUnKXtcclxuICAgICAgZGF5c0xlZnQuaW5uZXJIVE1MID0gdHJhc2hCaW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRpbWVMZWZ0PjApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgJHt0aW1lTGVmdH0gZC5gO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZih0aW1lTGVmdD09PTApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSAndG9kYXknXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRpbWVMZWZ0PDApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgcGFzc2VkYFxyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgLyogUEtPIHRhbXBsYXRlICovXHJcbiAgZWxzZSBpZihiYW5rQXJyYXlbaV0uYmFuayA9PT0gJ1BLTycpe1xyXG4gICAgZGF0ZU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0uZGF0ZTtcclxuICAgIHN0cmlwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3RyaXBfX3BrbycpO1xyXG4gICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCdhc3NldHMvaW1nL3Brb2JwIDQ2N3g0ODUucG5nJyk7XHJcbiAgICBjYXRlZ29yeU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0uY2F0ZWdvcnk7XHJcbiAgICB0aXRsZU91dHB1dC5pbm5lclRleHQgPSBiYW5rQXJyYXlbaV0udGl0bGU7XHJcbiAgICBhbW91bnRPdXRwdXQuaW5uZXJUZXh0ID0gYCR7YmFua0FycmF5W2ldLmFtb3VudH0gesWCYDtcclxuICAgIGlmKHN0YXR1cyA9PT0gJ2RvbmUnKXtcclxuICAgICAgZGF5c0xlZnQuaW5uZXJIVE1MID0gdHJhc2hCaW47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRpbWVMZWZ0PjApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgJHt0aW1lTGVmdH0gZC5gO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZih0aW1lTGVmdD09PTApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSAndG9kYXknXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHRpbWVMZWZ0PDApe1xyXG4gICAgICBkYXlzTGVmdC5pbm5lclRleHQgPSBgcGFzc2VkYFxyXG4gICAgfVxyXG4gIH1cclxuICB9XHJcbn1cclxudWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+e1xyXG4gICBcclxuICBpZihlLnRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpe1xyXG4gICAgZS50YXJnZXQuY2hpbGRyZW4uaXRlbSgwKS5jbGFzc0xpc3QuYWRkKCdidXR0b25DbG9zZS0tc2hvdycpO1xyXG4gICAgZS50YXJnZXQuY2hpbGRyZW4uaXRlbSgxKS5jbGFzc0xpc3QuYWRkKCdidXR0b25Eb25lLS1zaG93Jyk7XHJcbiAgfVxyXG4gIGlmKGUudGFyZ2V0LnRhZ05hbWUgPT09J0JVVFRPTicgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b25Eb25lJykpe1xyXG4gICAgbGV0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdjb250YWluZXJEb25lJyk7XHJcbiAgICBjb25zdCBjb250YWluZXJJZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICBjb25zdCB0aW1lTGVmdCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcudGltZUxlZnQnKTtcclxuICAgIFxyXG4gICAgY29uc3QgdHJhc2hCaW4gPSAnPGltZyBjbGFzcz1cInRyYXNoQmluXCIgc3JjPVwiYXNzZXRzL2ltZy9kZWxldGUgMzB4MzAucG5nXCIgYWx0PVwidHJhc2hCaW4gaWNvblwiPic7XHJcbiAgICB0aW1lTGVmdC5pbm5lckhUTUwgKz0gdHJhc2hCaW47XHJcbiAgICB0aW1lTGVmdC5jbGFzc0xpc3QuYWRkKCd0aW1lTGVmdERvbmUnKTtcclxuICAgIFxyXG4gICAgXHJcbiAgIFxyXG4gICAgICBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2hpbGRyZW4uaXRlbSgyKS5jbGFzc0xpc3QuYWRkKCd0aW1lTGVmdERvbmUnKTsvL3RpbWUgbGVmdCBkaXZcclxuICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuLml0ZW0oMSkubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdzdGF0dXNDaXJjbGVEb25lJyk7Ly9zdGF0dXMgY2lyY2xlXHJcblxyXG4gICAgIFxyXG4gICAgZm9yKGxldCBpPTA7IGk8YmFua0FycmF5Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgY29uc3Qgb2JqZWN0VmFsdWVzID0gT2JqZWN0LnZhbHVlcyhiYW5rQXJyYXlbaV0pO1xyXG4gICAgICBjb25zdCBpbmNsdWRlcyA9IG9iamVjdFZhbHVlcy5pbmNsdWRlcyhjb250YWluZXJJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZihpbmNsdWRlcz09PXRydWUpe1xyXG4gICAgICAgIGJhbmtBcnJheVtpXS5jb250YWluZXJDbGFzcyA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QudmFsdWU7XHJcbiAgICAgICAgYmFua0FycmF5W2ldLnRpbWVMZWZ0Q2xhc3MgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2hpbGRyZW4uaXRlbSgyKS5jbGFzc0xpc3QudmFsdWU7XHJcbiAgICAgICAgYmFua0FycmF5W2ldLnN0YXR1c0NpcmNsZUNsYXNzID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuLml0ZW0oMSkubGFzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QudmFsdWU7XHJcbiAgICAgICAgYmFua0FycmF5W2ldLnN0YXR1cyA9ICdkb25lJztcclxuICAgICAgICBjb25zb2xlLmxvZyhiYW5rQXJyYXlbaV0uY29udGFpbmVyQ2xhc3MpO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsID0gSlNPTi5zdHJpbmdpZnkoYmFua0FycmF5KTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFua0FycmF5Jyxsb2NhbCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9XHJcbiAgICBlLnRhcmdldC5wYXJlbnROb2RlLnJlbW92ZSgpO1xyXG4gIH1cclxuICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbkNsb3NlJykpey8vdHUgdHJ6ZWJhIHBvcHJhd2nEhyAhIVxyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uQ2xvc2UtLXNob3cnKTtcclxuICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW4uaXRlbSgxKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b25Eb25lLS1zaG93Jyk7XHJcbiAgfVxyXG4gIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndHJhc2hCaW4nKSl7Ly91c3V3YW5pZSBlbGVtZW50dSB6IGxpc3R5IFxyXG4gICAgY29uc3QgY29udGFpbmVySWQgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpO1xyXG4gICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG5cclxuICAgIGZvcihsZXQgaT0wOyBpPGJhbmtBcnJheS5sZW5ndGg7IGkrKyl7Ly91c3V3YW5pZSBlbGVtZW50dSB6IGxvY2FsU3RvcmFnZVxyXG4gICAgICBjb25zdCBvYmplY3RWYWx1ZXMgPSBPYmplY3QudmFsdWVzKGJhbmtBcnJheVtpXSk7XHJcbiAgICAgIGNvbnN0IGluY2x1ZGVzID0gb2JqZWN0VmFsdWVzLmluY2x1ZGVzKGNvbnRhaW5lcklkKTtcclxuICAgICAgaWYoaW5jbHVkZXM9PT10cnVlKXtcclxuICAgICAgICBiYW5rQXJyYXkuc3BsaWNlKGksMSk7XHJcbiAgICAgICAgY29uc3QgbG9jYWwgPSBKU09OLnN0cmluZ2lmeShiYW5rQXJyYXkpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYW5rQXJyYXknLGxvY2FsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICB9KVxyXG4gIGNvbnN0IGRheXNJbk1vbnRoID0gKG1vbnRoKSA9PntcclxuICAgIHJldHVybiBuZXcgRGF0ZSgyMDIwLG1vbnRoKzEsMCkuZ2V0RGF0ZSgpXHJcbiAgfVxyXG4gIGNvbnN0IGRheU9mV2VlayA9IChkYXksIG1vbnRoLCB5ZWFyKT0+e1xyXG4gICAgY29uc3QgZGF5TnVtYmVyID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSkuZ2V0RGF5KCk7XHJcblxyXG4gICAgc3dpdGNoKGRheU51bWJlcil7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICByZXR1cm4gJ1N1bic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICByZXR1cm4gJ01vbic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICByZXR1cm4gJ1R1ZSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgICByZXR1cm4gJ1dlbic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNDpcclxuICAgICAgICByZXR1cm4gJ1RodSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNTpcclxuICAgICAgICByZXR1cm4gJ0ZyaSc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNjpcclxuICAgICAgICByZXR1cm4gJ1NhdCc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IG1vbnRoRmlyc3REYXkgPSAoZGF5LCBtb250aCwgeWVhcik9PntcclxuICAgIGNvbnN0IHN0YXJ0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSkuZ2V0RGF5KCk7XHJcbiAgICBpZiAoc3RhcnREYXk9PT0wKXtcclxuICAgICAgcmV0dXJuIDdcclxuICAgIH1cclxuICAgIGVsc2V7cmV0dXJuIHN0YXJ0RGF5fVxyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3MtYnJvd3NlcmlmeS9icm93c2VyLmpzPzNjNDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQiw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1Qiw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxVQUFVOztBQUV6Qiw0QkFBNEI7O0FBRTVCLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5lbmRpYW5uZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xFJyB9O1xuXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH1cbiAgICBlbHNlIHJldHVybiAnJztcbn07XG5cbmV4cG9ydHMubG9hZGF2ZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG5leHBvcnRzLmZyZWVtZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy5jcHVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcblxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XG5cbmV4cG9ydHMucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXG49IGV4cG9ydHMuZ2V0TmV0d29ya0ludGVyZmFjZXNcbj0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge30gfTtcblxuZXhwb3J0cy5hcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2phdmFzY3JpcHQnIH07XG5cbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcblxuZXhwb3J0cy50bXBkaXIgPSBleHBvcnRzLnRtcERpciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJy90bXAnO1xufTtcblxuZXhwb3J0cy5FT0wgPSAnXFxuJztcblxuZXhwb3J0cy5ob21lZGlyID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gJy8nXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")}]);