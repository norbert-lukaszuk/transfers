!function(n){var c={};function t(l){if(c[l])return c[l].exports;var e=c[l]={i:l,l:!1,exports:{}};return n[l].call(e.exports,e,e.exports,t),e.l=!0,e.exports}t.m=n,t.c=c,t.d=function(n,c,l){t.o(n,c)||Object.defineProperty(n,c,{enumerable:!0,get:l})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,c){if(1&c&&(n=t(n)),8&c)return n;if(4&c&&"object"==typeof n&&n&&n.__esModule)return n;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&c&&"string"!=typeof n)for(var e in n)t.d(l,e,function(c){return n[c]}.bind(null,e));return l},t.n=function(n){var c=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(c,"a",c),c},t.o=function(n,c){return Object.prototype.hasOwnProperty.call(n,c)},t.p="",t(t.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n\r\n\r\n// service worker registration - remove if you're not going to use it\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function () {\r\n    navigator.serviceWorker.register('serviceworker.js').then(function (registration) {\r\n      // Registration was successful\r\n      console.log('ServiceWorker registration successful with scope: ', registration.scope);\r\n    }, function (err) {\r\n      // registration failed :(\r\n      console.log('ServiceWorker registration failed: ', err);\r\n    });\r\n  });\r\n}\r\nconst checkbox = document.getElementById('show__done');\r\n\r\nconst hamburger = document.querySelector('.hamburger');\r\nconst navigation = document.querySelector('.navigation');\r\nconst addButon = document.querySelector('.button__add');\r\nconst popup = document.querySelector('.popup');\r\nconst cancel = document.getElementById('cancel');\r\nconst backArrow = document.querySelector('.backArrow');\r\nconst date = document.getElementById('calendar');\r\nconst today = document.getElementById('calendar');\r\nlet bank__clicked = null;\r\nconst calendarPopup = document.querySelector('.calendar__popup');\r\nconst category = document.getElementById('category');\r\nconst title = document.getElementById('title');\r\nconst amount = document.getElementById('amount');\r\nconst okButton = document.getElementById('ok');\r\nconst calendarButton = document.querySelector('.button__calendar');\r\nconst calendarBackArow = document.querySelector('.calendar__backArow');\r\nconst calendarWraper = document.querySelector('.calendar__wraper');\r\nconst newDate = new Date(date);\r\nconst transfer = document.querySelector('.transfer');\r\nconst ul = document.querySelector('.list__transfers');\r\nlet input = document.querySelector('.input')\r\nconst bankSelectWraper = document.querySelector('.bankSelectWraper');\r\nconst mbankIcon = document.getElementById('mbankIcon');\r\nconst pkoIcon = document.getElementById('pkoIcon');\r\nconst list = document.querySelector('.list');\r\n\r\nconst daysLeft = (date) => {//funkcja zwraca liczbe dni miedzy datą a dziś\r\n  return Math.ceil((new Date(date) - new Date()) / 1000 / 60 / 60 / 24);\r\n}\r\n\r\nconst statusCircle = (timeLeft) => {//kolor kółka zależnie od ilości pozostałych dni\r\n  if (timeLeft >= 3) {\r\n    return 'statusCircle--green'\r\n  }\r\n  else if (timeLeft == 2) {\r\n    return 'statusCircle--yellow'\r\n  }\r\n  else if (timeLeft <= 1) {\r\n    return 'statusCircle--crimson'\r\n  }\r\n}\r\n\r\nconst daysInMonth = (month) => {\r\n  return new Date(2020, month + 1, 0).getDate()\r\n}\r\nconst dayOfWeek = (day, month, year) => {\r\n  const dayNumber = new Date(year, month, day).getDay();\r\n\r\n  switch (dayNumber) {\r\n    case 0:\r\n      return 'Sun';\r\n      break;\r\n    case 1:\r\n      return 'Mon';\r\n      break;\r\n    case 2:\r\n      return 'Tue';\r\n      break;\r\n    case 3:\r\n      return 'Wen';\r\n      break;\r\n    case 4:\r\n      return 'Thu';\r\n      break;\r\n    case 5:\r\n      return 'Fri';\r\n      break;\r\n    case 6:\r\n      return 'Sat';\r\n      break;\r\n  }\r\n}\r\nconst monthFirstDay = (day, month, year) => {\r\n  const startDay = new Date(year, month, day).getDay();\r\n  if (startDay === 0) {\r\n    return 7\r\n  }\r\n  else { return startDay }\r\n}\r\n\r\nhamburger.addEventListener('click', e => {\r\n  hamburger.classList.toggle('hamburger__active');\r\n  navigation.classList.toggle('navigation--active');\r\n\r\n})\r\n\r\nbankSelectWraper.addEventListener('click', e => {\r\n  if (e.target.tagName === 'IMG' && e.target.id === 'mbankIcon') {\r\n    e.target.classList.toggle('bankClicked');\r\n    pkoIcon.classList.remove('bankClicked');\r\n    bank__clicked = 'mBank';\r\n  }\r\n  else if (e.target.tagName === 'IMG' && e.target.id === 'pkoIcon') {\r\n    e.target.classList.toggle('bankClicked');\r\n    mbankIcon.classList.remove('bankClicked');\r\n    bank__clicked = 'PKO';\r\n  }\r\n})\r\n/****Otwieranie popupa  */\r\naddButon.addEventListener('click', e => {\r\n  popup.style.display = 'block';\r\n  list.classList.add('listHide');\r\n  navigation.classList.remove('navigation--active');\r\n  hamburger.classList.remove('hamburger__active');\r\n  today.valueAsDate = new Date(); //aktualna data w input date\r\n})\r\n\r\n/****** włączanie widoku kalendarza******/\r\ncalendarButton.addEventListener('click', e => {\r\n  calendarPopup.classList.toggle('calendar__popup--show');\r\n  navigation.classList.remove('navigation--active');\r\n  hamburger.classList.remove('hamburger__active');\r\n  const today = new Date();\r\n  for (let i = 0; i < 12; i++) {\r\n    const calendarWraper = document.getElementById(i.toString());\r\n    // let daysInMonth = new Date(2020,i+1,0).getDate()//number of days in month\r\n    // const month = today.getMonth();\r\n    for (let j = 1; j <= 42; j++) {\r\n      calendarWraper.innerHTML += `<div class=\"day\"></div>`;\r\n    }\r\n    // ułożenie prawidłowe dni w miesiącu\r\n    const days = calendarWraper.querySelectorAll('.day');\r\n    const firstDay = monthFirstDay(1, i, 2020) - 1;\r\n\r\n    for (let k = firstDay; k < (firstDay + daysInMonth(i)); k++) {\r\n      days[k].innerHTML += `<span class=\"day__number\">${(k - firstDay) + 1}</span><span class=\"day__name\">${dayOfWeek((k - firstDay) + 1, i, 2020)}</span>`//wypisuje dzień miesiąca i dzień tygodnia w komórce kalendarza \r\n      if (days[k].lastElementChild.innerText === 'Sun') {\r\n        days[k].classList.add('day--sunday');\r\n      }\r\n    }\r\n    const allDays = calendarWraper.querySelectorAll('div');\r\n    allDays.forEach(e => {\r\n      if (e.innerHTML === '' && window.innerWidth <= 360) {\r\n        e.classList.add('day__mobile--hide');\r\n      }\r\n      else if (e.innerHTML === '') { e.classList.remove('day') }\r\n\r\n    })\r\n  }\r\n  const allDaysOrder = document.querySelectorAll('.day');\r\n  allDaysOrder.forEach(e => {\r\n    if (e.firstElementChild != null && parseInt(e.firstElementChild.innerText) === today.getDate() && parseInt(e.parentElement.getAttribute('id')) === today.getMonth()) {\r\n      e.firstElementChild.classList.add('day__number--today')\r\n    }\r\n  })\r\n\r\n  const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  bankArray.forEach(e => {\r\n    let bankArrayDate = new Date(e.date);\r\n    let month = bankArrayDate.getMonth().toString();\r\n    let calendar__wraper = document.getElementById(month);\r\n    let day = bankArrayDate.getDate();\r\n    const daysInMonth = calendar__wraper.querySelectorAll('.day');\r\n    daysInMonth[day].innerHTML += `<span class=\"day__category\">${e.category}</span>`;\r\n\r\n  })\r\n\r\n\r\n})\r\n\r\ncalendarBackArow.addEventListener('click', e => {\r\n  calendarPopup.classList.remove('calendar__popup--show');\r\n  const allDays = document.querySelectorAll('.day');\r\n  allDays.forEach(e => {\r\n    e.remove();\r\n  })\r\n\r\n})\r\ncancel.addEventListener('click', e => {\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n})\r\nbackArrow.addEventListener('click', e => {\r\n  popup.style.display = 'none';\r\n  list.classList.remove('listHide');\r\n\r\n})\r\n\r\n/******** add new transfer ********/\r\nokButton.addEventListener('click', e => {\r\n  let bankObject = {};\r\n  let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n  if (bankArray === null) {\r\n    bankArray = [];\r\n  }\r\n  const category = document.getElementById('category');\r\n  if (bank__clicked != null) {//warunek wykonania pętli \r\n\r\n    bankObject.bank = bank__clicked;\r\n    bankObject.category = category.value;\r\n    bankObject.date = date.value;\r\n    bankObject.dateNumber = new Date(date.value);\r\n    bankObject.title = title.value;\r\n    bankObject.amount = amount.value;\r\n    bankObject.status = '';\r\n    bankObject.id = new Date().getTime();\r\n    bankArray.push(bankObject);\r\n    const local = bankArray.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n    local.reverse();\r\n    localStorage.setItem('bankArray', JSON.stringify(local));\r\n    ul.innerHTML = null;\r\n    bankArray.forEach(e => {\r\n\r\n      const { bank, category: cat, date: dat, title: tit, amount: amun, status: stat, id: idNum } = e;\r\n      if (bank === 'mBank' && stat != 'done') {\r\n        const mbank_container = `<div class=\"container\" id=\"${idNum}\">\r\n          <div class=\"strip__mbank\">${dat}</div>\r\n          <div class=\"logoWraper\">\r\n            <img class=\"image\" src=\"assets/img/mbank 30x30.png\">\r\n            <div class=\"category\">${cat}</div>\r\n            <div class=\"statusCircle ${statusCircle(daysLeft(dat))}\"></div>\r\n          </div>\r\n          <div class=\"timeLeft\">${daysLeft(dat)} d.</div> \r\n          <div class=\"amount\">${amun} zł</div> \r\n          <p class=\"title\">${tit}</p>\r\n          <div class=\"close\">\r\n          <button class=\"buttonClose\">Cancel</button>\r\n          <button class =\"buttonDone\">Done</button>\r\n          </div>          \r\n          </div`;\r\n        ul.innerHTML += mbank_container;\r\n      }\r\n      if (bank === 'PKO' && stat != 'done') {\r\n        const pko_container = `<div class=\"container id=\"${idNum}\">\r\n        <div class=\"strip__pko\">${dat}</div>\r\n        <div class=\"logoWraper\">\r\n          <img class=\"image\" src=\"assets/img/pkobp 467x485.png\">\r\n          <div class=\"category\">${cat}</div>\r\n          <div class=\"statusCircle ${statusCircle(daysLeft(dat))}\"></div>\r\n        </div>\r\n        <div class=\"timeLeft\">${daysLeft(dat)} d.</div> \r\n        <div class=\"amount\">${amun}</div> \r\n        <p class=\"title\">${tit}</p>\r\n        <div class=\"close\">\r\n        <button class=\"buttonClose\">Cancel</button>\r\n        <button class =\"buttonDone\">Done</button>\r\n        </div>          \r\n      </div`;\r\n        ul.innerHTML += pko_container;\r\n      }\r\n      else if (stat == 'done') {\r\n        const done_container = `<div class=\"container container__done container__done--hide\" id=${idNum}>\r\n      <div class=\"strip__done\">${dat}</div>\r\n      <div class=\"logoWraper\">\r\n      <img class=\"image__trashBin\" src=\"assets/img/delete 30x30.png\">\r\n        <div class=\"category\">${cat}</div>\r\n        <img src=\"assets/img/checked 64x64.png\">\r\n      </div>\r\n      <div class=\"timeLeft timeLeftDone\"></div> \r\n      <div class=\"amount\">${amun}</div> \r\n      <p class=\"title\">${tit}</p>\r\n    </div>`;\r\n\r\n        ul.innerHTML += done_container;\r\n        if (checkbox.checked) {\r\n          const done_containers = ul.querySelectorAll('.container__done--hide');\r\n          done_containers.forEach(e => e.classList.remove('container__done--hide'));\r\n        }\r\n      }\r\n    })\r\n\r\n\r\n    transfer.reset();// reset() resetuje tylko form\r\n    //\r\n\r\n    popup.style.display = 'none';\r\n    list.classList.remove('listHide');\r\n\r\n  }\r\n  else {\r\n    alert('Select the bank')//jeśli nie wybiorę banku\r\n  }\r\n}\r\n)\r\n\r\ncheckbox.onchange = () => {\r\n  const container__done = document.querySelectorAll('.container__done');\r\n  if (checkbox.checked) {\r\n\r\n    container__done.forEach(e => {\r\n      e.classList.remove('container__done--hide');\r\n    })\r\n  }\r\n  else { container__done.forEach(e => e.classList.add('container__done--hide')) }\r\n}\r\n\r\n/******* REFRESSH ***********/\r\n\r\nconst bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\nbankArray.forEach(e => {\r\n  const keys = Object.keys(e);\r\n  const { bank, category, date, title, amount, status, id, containerClass, statusCircleClass, timeLeftClass } = e;\r\n  const mbank_container = `<div class=\"container\" id=\"${id}\">\r\n      <div class=\"strip__mbank\">${date}</div>\r\n      <div class=\"logoWraper\">\r\n        <img class=\"image\" src=\"assets/img/mbank 30x30.png\">\r\n        <div class=\"category\">${category}</div>\r\n        <div class=\"statusCircle ${statusCircle(daysLeft(date))}\"></div>\r\n      </div>\r\n      <div class=\"timeLeft\">${daysLeft(date)} d.</div> \r\n      <div class=\"amount\">${amount} zł</div> \r\n      <p class=\"title\">${title}</p>\r\n      <div class=\"close\">\r\n      <button class=\"buttonClose\">Cancel</button>\r\n      <button class =\"buttonDone\">Done</button>\r\n      </div>          \r\n    </div>`;\r\n  const pko_container = `<div class=\"container\" id=\"${id}\">\r\n      <div class=\"strip__pko\">${date}</div>\r\n      <div class=\"logoWraper\">\r\n        <img class=\"image\" src=\"assets/img/pkobp 467x485.png\">\r\n        <div class=\"category\">${category}</div>\r\n        <div class=\"statusCircle ${statusCircle(daysLeft(date))}\"></div>\r\n      </div>\r\n      <div class=\"timeLeft\">${daysLeft(date)} d.</div> \r\n      <div class=\"amount\">${amount}</div> \r\n      <p class=\"title\">${title}</p>\r\n      <div class=\"close\">\r\n      <button class=\"buttonClose\">Cancel</button>\r\n      <button class =\"buttonDone\">Done</button>\r\n      </div>          \r\n    </div>`;\r\n  const done_container = `<div class=\"container container__done container__done--hide\" id=${id}>\r\n      <div class=\"strip__done\">${date}</div>\r\n      <div class=\"logoWraper\">\r\n      <img class=\"image__trashBin\" src=\"assets/img/delete 30x30.png\">\r\n        <div class=\"category\">${category}</div>\r\n        <img src=\"assets/img/checked 64x64.png\">\r\n      </div>\r\n      <div class=\"timeLeft timeLeftDone\"></div> \r\n      <div class=\"amount\">${amount}</div> \r\n      <p class=\"title\">${title}</p>\r\n    </div>`;\r\n  if (status === 'done') {\r\n    ul.innerHTML += done_container;\r\n  }\r\n  if (bank === 'mBank' && status != 'done') {\r\n    ul.innerHTML += mbank_container;\r\n  }\r\n  if (bank === 'PKO' && status != 'done') {\r\n    ul.innerHTML += pko_container;\r\n  }\r\n})\r\n\r\nul.addEventListener('click', e => {\r\n\r\n  if (e.target.tagName === 'DIV' && e.target.classList.contains('close')) {\r\n    e.target.firstElementChild.classList.add('buttonClose--show');\r\n    e.target.lastElementChild.classList.add('buttonDone--show');\r\n  }\r\n  if (e.target.tagName === 'BUTTON' && e.target.classList.contains('buttonDone')) {\r\n    let bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n    const containerId = parseInt(e.target.parentNode.parentNode.getAttribute('id'));\r\n    e.target.parentNode.parentNode.classList.add('container__done', 'container__done--hide');\r\n    bankArray.forEach(f => {\r\n      if (containerId === f.id) {\r\n        f.status = 'done'\r\n        const { date, category, amount, title } = f;\r\n        const swap__container = document.getElementById(JSON.stringify(containerId));\r\n        swap__container.innerHTML = `<div class=\"strip__done\">${date}</div>\r\n         <div class=\"logoWraper\">\r\n         <img class=\"image__trashBin\" src=\"assets/img/delete 30x30.png\">\r\n           <div class=\"category\">${category}</div>\r\n           <img src=\"assets/img/checked 64x64.png\">\r\n         </div>\r\n         <div class=\"timeLeft timeLeftDone\"></div> \r\n         <div class=\"amount\">${amount}</div> \r\n         <p class=\"title\">${title}</p>`;\r\n      }\r\n    })\r\n    const local = JSON.stringify(bankArray);\r\n    localStorage.setItem('bankArray', local);\r\n    e.target.parentNode.remove();\r\n  }\r\n  if (e.target.classList.contains('buttonClose')) {//tu trzeba poprawić !!\r\n    e.target.classList.remove('buttonClose--show');\r\n    e.target.parentElement.children.item(1).classList.remove('buttonDone--show');\r\n  }\r\n  if (e.target.tagName === 'IMG' && e.target.classList.contains('image__trashBin')) {//usuwanie elementu z listy \r\n    const containerId = parseInt(e.target.parentElement.parentElement.getAttribute('id'));\r\n    const bankArray = JSON.parse(localStorage.getItem('bankArray'));\r\n    let indexDel = null;\r\n    const indexFun = (elemenent, index) => {\r\n      if (elemenent.id === containerId) {\r\n        indexDel = index\r\n      }\r\n\r\n    }\r\n    bankArray.forEach(indexFun);\r\n    console.log(indexDel);\r\n    bankArray.splice(indexDel, 1);\r\n    const local = JSON.stringify(bankArray);\r\n    localStorage.setItem('bankArray', local);\r\n    e.target.parentElement.parentElement.remove();\r\n\r\n  }\r\n})\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbWFpbi5qcz85MjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFhOztBQUVhOztBQUUxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLGlDQUFpQztBQUMzRCx3REFBd0QsbUJBQW1CLGlDQUFpQyx1Q0FBdUM7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NEJBQTRCLE1BQU07QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5pbXBvcnQgeyB0eXBlIH0gZnJvbSBcIm9zXCI7XHJcblxyXG4vLyBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gLSByZW1vdmUgaWYgeW91J3JlIG5vdCBnb2luZyB0byB1c2UgaXRcclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZXdvcmtlci5qcycpLnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xyXG4gICAgICAvLyBSZWdpc3RyYXRpb24gd2FzIHN1Y2Nlc3NmdWxcclxuICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwgd2l0aCBzY29wZTogJywgcmVnaXN0cmF0aW9uLnNjb3BlKTtcclxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgLy8gcmVnaXN0cmF0aW9uIGZhaWxlZCA6KFxyXG4gICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCBlcnIpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd19fZG9uZScpO1xyXG5cclxuY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG5jb25zdCBuYXZpZ2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmlnYXRpb24nKTtcclxuY29uc3QgYWRkQnV0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX19hZGQnKTtcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuY29uc3QgY2FuY2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbCcpO1xyXG5jb25zdCBiYWNrQXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFja0Fycm93Jyk7XHJcbmNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXInKTtcclxuY29uc3QgdG9kYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsZW5kYXInKTtcclxubGV0IGJhbmtfX2NsaWNrZWQgPSBudWxsO1xyXG5jb25zdCBjYWxlbmRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGVuZGFyX19wb3B1cCcpO1xyXG5jb25zdCBjYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeScpO1xyXG5jb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpO1xyXG5jb25zdCBhbW91bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW1vdW50Jyk7XHJcbmNvbnN0IG9rQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29rJyk7XHJcbmNvbnN0IGNhbGVuZGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbl9fY2FsZW5kYXInKTtcclxuY29uc3QgY2FsZW5kYXJCYWNrQXJvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxlbmRhcl9fYmFja0Fyb3cnKTtcclxuY29uc3QgY2FsZW5kYXJXcmFwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsZW5kYXJfX3dyYXBlcicpO1xyXG5jb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbmNvbnN0IHRyYW5zZmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRyYW5zZmVyJyk7XHJcbmNvbnN0IHVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3RfX3RyYW5zZmVycycpO1xyXG5sZXQgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5wdXQnKVxyXG5jb25zdCBiYW5rU2VsZWN0V3JhcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhbmtTZWxlY3RXcmFwZXInKTtcclxuY29uc3QgbWJhbmtJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21iYW5rSWNvbicpO1xyXG5jb25zdCBwa29JY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Brb0ljb24nKTtcclxuY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0Jyk7XHJcblxyXG5jb25zdCBkYXlzTGVmdCA9IChkYXRlKSA9PiB7Ly9mdW5rY2phIHp3cmFjYSBsaWN6YmUgZG5pIG1pZWR6eSBkYXTEhSBhIGR6acWbXHJcbiAgcmV0dXJuIE1hdGguY2VpbCgobmV3IERhdGUoZGF0ZSkgLSBuZXcgRGF0ZSgpKSAvIDEwMDAgLyA2MCAvIDYwIC8gMjQpO1xyXG59XHJcblxyXG5jb25zdCBzdGF0dXNDaXJjbGUgPSAodGltZUxlZnQpID0+IHsvL2tvbG9yIGvDs8WCa2EgemFsZcW8bmllIG9kIGlsb8WbY2kgcG96b3N0YcWCeWNoIGRuaVxyXG4gIGlmICh0aW1lTGVmdCA+PSAzKSB7XHJcbiAgICByZXR1cm4gJ3N0YXR1c0NpcmNsZS0tZ3JlZW4nXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHRpbWVMZWZ0ID09IDIpIHtcclxuICAgIHJldHVybiAnc3RhdHVzQ2lyY2xlLS15ZWxsb3cnXHJcbiAgfVxyXG4gIGVsc2UgaWYgKHRpbWVMZWZ0IDw9IDEpIHtcclxuICAgIHJldHVybiAnc3RhdHVzQ2lyY2xlLS1jcmltc29uJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZGF5c0luTW9udGggPSAobW9udGgpID0+IHtcclxuICByZXR1cm4gbmV3IERhdGUoMjAyMCwgbW9udGggKyAxLCAwKS5nZXREYXRlKClcclxufVxyXG5jb25zdCBkYXlPZldlZWsgPSAoZGF5LCBtb250aCwgeWVhcikgPT4ge1xyXG4gIGNvbnN0IGRheU51bWJlciA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpLmdldERheSgpO1xyXG5cclxuICBzd2l0Y2ggKGRheU51bWJlcikge1xyXG4gICAgY2FzZSAwOlxyXG4gICAgICByZXR1cm4gJ1N1bic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAxOlxyXG4gICAgICByZXR1cm4gJ01vbic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAyOlxyXG4gICAgICByZXR1cm4gJ1R1ZSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAzOlxyXG4gICAgICByZXR1cm4gJ1dlbic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA0OlxyXG4gICAgICByZXR1cm4gJ1RodSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA1OlxyXG4gICAgICByZXR1cm4gJ0ZyaSc7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSA2OlxyXG4gICAgICByZXR1cm4gJ1NhdCc7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5jb25zdCBtb250aEZpcnN0RGF5ID0gKGRheSwgbW9udGgsIHllYXIpID0+IHtcclxuICBjb25zdCBzdGFydERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpLmdldERheSgpO1xyXG4gIGlmIChzdGFydERheSA9PT0gMCkge1xyXG4gICAgcmV0dXJuIDdcclxuICB9XHJcbiAgZWxzZSB7IHJldHVybiBzdGFydERheSB9XHJcbn1cclxuXHJcbmhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gIGhhbWJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCdoYW1idXJnZXJfX2FjdGl2ZScpO1xyXG4gIG5hdmlnYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2aWdhdGlvbi0tYWN0aXZlJyk7XHJcblxyXG59KVxyXG5cclxuYmFua1NlbGVjdFdyYXBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnSU1HJyAmJiBlLnRhcmdldC5pZCA9PT0gJ21iYW5rSWNvbicpIHtcclxuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2JhbmtDbGlja2VkJyk7XHJcbiAgICBwa29JY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2JhbmtDbGlja2VkJyk7XHJcbiAgICBiYW5rX19jbGlja2VkID0gJ21CYW5rJztcclxuICB9XHJcbiAgZWxzZSBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0lNRycgJiYgZS50YXJnZXQuaWQgPT09ICdwa29JY29uJykge1xyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnYmFua0NsaWNrZWQnKTtcclxuICAgIG1iYW5rSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdiYW5rQ2xpY2tlZCcpO1xyXG4gICAgYmFua19fY2xpY2tlZCA9ICdQS08nO1xyXG4gIH1cclxufSlcclxuLyoqKipPdHdpZXJhbmllIHBvcHVwYSAgKi9cclxuYWRkQnV0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICBsaXN0LmNsYXNzTGlzdC5hZGQoJ2xpc3RIaWRlJyk7XHJcbiAgbmF2aWdhdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCduYXZpZ2F0aW9uLS1hY3RpdmUnKTtcclxuICBoYW1idXJnZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGFtYnVyZ2VyX19hY3RpdmUnKTtcclxuICB0b2RheS52YWx1ZUFzRGF0ZSA9IG5ldyBEYXRlKCk7IC8vYWt0dWFsbmEgZGF0YSB3IGlucHV0IGRhdGVcclxufSlcclxuXHJcbi8qKioqKiogd8WCxIVjemFuaWUgd2lkb2t1IGthbGVuZGFyemEqKioqKiovXHJcbmNhbGVuZGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgY2FsZW5kYXJQb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdjYWxlbmRhcl9fcG9wdXAtLXNob3cnKTtcclxuICBuYXZpZ2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmlnYXRpb24tLWFjdGl2ZScpO1xyXG4gIGhhbWJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKCdoYW1idXJnZXJfX2FjdGl2ZScpO1xyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcclxuICAgIGNvbnN0IGNhbGVuZGFyV3JhcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaS50b1N0cmluZygpKTtcclxuICAgIC8vIGxldCBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKDIwMjAsaSsxLDApLmdldERhdGUoKS8vbnVtYmVyIG9mIGRheXMgaW4gbW9udGhcclxuICAgIC8vIGNvbnN0IG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKTtcclxuICAgIGZvciAobGV0IGogPSAxOyBqIDw9IDQyOyBqKyspIHtcclxuICAgICAgY2FsZW5kYXJXcmFwZXIuaW5uZXJIVE1MICs9IGA8ZGl2IGNsYXNzPVwiZGF5XCI+PC9kaXY+YDtcclxuICAgIH1cclxuICAgIC8vIHXFgm/FvGVuaWUgcHJhd2lkxYJvd2UgZG5pIHcgbWllc2nEhWN1XHJcbiAgICBjb25zdCBkYXlzID0gY2FsZW5kYXJXcmFwZXIucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gICAgY29uc3QgZmlyc3REYXkgPSBtb250aEZpcnN0RGF5KDEsIGksIDIwMjApIC0gMTtcclxuXHJcbiAgICBmb3IgKGxldCBrID0gZmlyc3REYXk7IGsgPCAoZmlyc3REYXkgKyBkYXlzSW5Nb250aChpKSk7IGsrKykge1xyXG4gICAgICBkYXlzW2tdLmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3M9XCJkYXlfX251bWJlclwiPiR7KGsgLSBmaXJzdERheSkgKyAxfTwvc3Bhbj48c3BhbiBjbGFzcz1cImRheV9fbmFtZVwiPiR7ZGF5T2ZXZWVrKChrIC0gZmlyc3REYXkpICsgMSwgaSwgMjAyMCl9PC9zcGFuPmAvL3d5cGlzdWplIGR6aWXFhCBtaWVzacSFY2EgaSBkemllxYQgdHlnb2RuaWEgdyBrb23Ds3JjZSBrYWxlbmRhcnphIFxyXG4gICAgICBpZiAoZGF5c1trXS5sYXN0RWxlbWVudENoaWxkLmlubmVyVGV4dCA9PT0gJ1N1bicpIHtcclxuICAgICAgICBkYXlzW2tdLmNsYXNzTGlzdC5hZGQoJ2RheS0tc3VuZGF5Jyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGFsbERheXMgPSBjYWxlbmRhcldyYXBlci5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKTtcclxuICAgIGFsbERheXMuZm9yRWFjaChlID0+IHtcclxuICAgICAgaWYgKGUuaW5uZXJIVE1MID09PSAnJyAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSAzNjApIHtcclxuICAgICAgICBlLmNsYXNzTGlzdC5hZGQoJ2RheV9fbW9iaWxlLS1oaWRlJyk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoZS5pbm5lckhUTUwgPT09ICcnKSB7IGUuY2xhc3NMaXN0LnJlbW92ZSgnZGF5JykgfVxyXG5cclxuICAgIH0pXHJcbiAgfVxyXG4gIGNvbnN0IGFsbERheXNPcmRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXknKTtcclxuICBhbGxEYXlzT3JkZXIuZm9yRWFjaChlID0+IHtcclxuICAgIGlmIChlLmZpcnN0RWxlbWVudENoaWxkICE9IG51bGwgJiYgcGFyc2VJbnQoZS5maXJzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQpID09PSB0b2RheS5nZXREYXRlKCkgJiYgcGFyc2VJbnQoZS5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKSkgPT09IHRvZGF5LmdldE1vbnRoKCkpIHtcclxuICAgICAgZS5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QuYWRkKCdkYXlfX251bWJlci0tdG9kYXknKVxyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuICBiYW5rQXJyYXkuZm9yRWFjaChlID0+IHtcclxuICAgIGxldCBiYW5rQXJyYXlEYXRlID0gbmV3IERhdGUoZS5kYXRlKTtcclxuICAgIGxldCBtb250aCA9IGJhbmtBcnJheURhdGUuZ2V0TW9udGgoKS50b1N0cmluZygpO1xyXG4gICAgbGV0IGNhbGVuZGFyX193cmFwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb250aCk7XHJcbiAgICBsZXQgZGF5ID0gYmFua0FycmF5RGF0ZS5nZXREYXRlKCk7XHJcbiAgICBjb25zdCBkYXlzSW5Nb250aCA9IGNhbGVuZGFyX193cmFwZXIucXVlcnlTZWxlY3RvckFsbCgnLmRheScpO1xyXG4gICAgZGF5c0luTW9udGhbZGF5XS5pbm5lckhUTUwgKz0gYDxzcGFuIGNsYXNzPVwiZGF5X19jYXRlZ29yeVwiPiR7ZS5jYXRlZ29yeX08L3NwYW4+YDtcclxuXHJcbiAgfSlcclxuXHJcblxyXG59KVxyXG5cclxuY2FsZW5kYXJCYWNrQXJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gIGNhbGVuZGFyUG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnY2FsZW5kYXJfX3BvcHVwLS1zaG93Jyk7XHJcbiAgY29uc3QgYWxsRGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kYXknKTtcclxuICBhbGxEYXlzLmZvckVhY2goZSA9PiB7XHJcbiAgICBlLnJlbW92ZSgpO1xyXG4gIH0pXHJcblxyXG59KVxyXG5jYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdEhpZGUnKTtcclxufSlcclxuYmFja0Fycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICBsaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2xpc3RIaWRlJyk7XHJcblxyXG59KVxyXG5cclxuLyoqKioqKioqIGFkZCBuZXcgdHJhbnNmZXIgKioqKioqKiovXHJcbm9rQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgbGV0IGJhbmtPYmplY3QgPSB7fTtcclxuICBsZXQgYmFua0FycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFua0FycmF5JykpO1xyXG4gIGlmIChiYW5rQXJyYXkgPT09IG51bGwpIHtcclxuICAgIGJhbmtBcnJheSA9IFtdO1xyXG4gIH1cclxuICBjb25zdCBjYXRlZ29yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXRlZ29yeScpO1xyXG4gIGlmIChiYW5rX19jbGlja2VkICE9IG51bGwpIHsvL3dhcnVuZWsgd3lrb25hbmlhIHDEmXRsaSBcclxuXHJcbiAgICBiYW5rT2JqZWN0LmJhbmsgPSBiYW5rX19jbGlja2VkO1xyXG4gICAgYmFua09iamVjdC5jYXRlZ29yeSA9IGNhdGVnb3J5LnZhbHVlO1xyXG4gICAgYmFua09iamVjdC5kYXRlID0gZGF0ZS52YWx1ZTtcclxuICAgIGJhbmtPYmplY3QuZGF0ZU51bWJlciA9IG5ldyBEYXRlKGRhdGUudmFsdWUpO1xyXG4gICAgYmFua09iamVjdC50aXRsZSA9IHRpdGxlLnZhbHVlO1xyXG4gICAgYmFua09iamVjdC5hbW91bnQgPSBhbW91bnQudmFsdWU7XHJcbiAgICBiYW5rT2JqZWN0LnN0YXR1cyA9ICcnO1xyXG4gICAgYmFua09iamVjdC5pZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgYmFua0FycmF5LnB1c2goYmFua09iamVjdCk7XHJcbiAgICBjb25zdCBsb2NhbCA9IGJhbmtBcnJheS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKSk7XHJcbiAgICBsb2NhbC5yZXZlcnNlKCk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFua0FycmF5JywgSlNPTi5zdHJpbmdpZnkobG9jYWwpKTtcclxuICAgIHVsLmlubmVySFRNTCA9IG51bGw7XHJcbiAgICBiYW5rQXJyYXkuZm9yRWFjaChlID0+IHtcclxuXHJcbiAgICAgIGNvbnN0IHsgYmFuaywgY2F0ZWdvcnk6IGNhdCwgZGF0ZTogZGF0LCB0aXRsZTogdGl0LCBhbW91bnQ6IGFtdW4sIHN0YXR1czogc3RhdCwgaWQ6IGlkTnVtIH0gPSBlO1xyXG4gICAgICBpZiAoYmFuayA9PT0gJ21CYW5rJyAmJiBzdGF0ICE9ICdkb25lJykge1xyXG4gICAgICAgIGNvbnN0IG1iYW5rX2NvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCIgaWQ9XCIke2lkTnVtfVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX19tYmFua1wiPiR7ZGF0fTwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuICAgICAgICAgICAgPGltZyBjbGFzcz1cImltYWdlXCIgc3JjPVwiYXNzZXRzL2ltZy9tYmFuayAzMHgzMC5wbmdcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXR9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0dXNDaXJjbGUgJHtzdGF0dXNDaXJjbGUoZGF5c0xlZnQoZGF0KSl9XCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdFwiPiR7ZGF5c0xlZnQoZGF0KX0gZC48L2Rpdj4gXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+JHthbXVufSB6xYI8L2Rpdj4gXHJcbiAgICAgICAgICA8cCBjbGFzcz1cInRpdGxlXCI+JHt0aXR9PC9wPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsb3NlXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uQ2xvc2VcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3MgPVwiYnV0dG9uRG9uZVwiPkRvbmU8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PiAgICAgICAgICBcclxuICAgICAgICAgIDwvZGl2YDtcclxuICAgICAgICB1bC5pbm5lckhUTUwgKz0gbWJhbmtfY29udGFpbmVyO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChiYW5rID09PSAnUEtPJyAmJiBzdGF0ICE9ICdkb25lJykge1xyXG4gICAgICAgIGNvbnN0IHBrb19jb250YWluZXIgPSBgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBpZD1cIiR7aWROdW19XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX19wa29cIj4ke2RhdH08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nb1dyYXBlclwiPlxyXG4gICAgICAgICAgPGltZyBjbGFzcz1cImltYWdlXCIgc3JjPVwiYXNzZXRzL2ltZy9wa29icCA0Njd4NDg1LnBuZ1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXR9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzQ2lyY2xlICR7c3RhdHVzQ2lyY2xlKGRheXNMZWZ0KGRhdCkpfVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdFwiPiR7ZGF5c0xlZnQoZGF0KX0gZC48L2Rpdj4gXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW11bn08L2Rpdj4gXHJcbiAgICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0fTwvcD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xvc2VcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uQ2xvc2VcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzID1cImJ1dHRvbkRvbmVcIj5Eb25lPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+ICAgICAgICAgIFxyXG4gICAgICA8L2RpdmA7XHJcbiAgICAgICAgdWwuaW5uZXJIVE1MICs9IHBrb19jb250YWluZXI7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoc3RhdCA9PSAnZG9uZScpIHtcclxuICAgICAgICBjb25zdCBkb25lX2NvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNvbnRhaW5lcl9fZG9uZSBjb250YWluZXJfX2RvbmUtLWhpZGVcIiBpZD0ke2lkTnVtfT5cclxuICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX19kb25lXCI+JHtkYXR9PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbiAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZV9fdHJhc2hCaW5cIiBzcmM9XCJhc3NldHMvaW1nL2RlbGV0ZSAzMHgzMC5wbmdcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4ke2NhdH08L2Rpdj5cclxuICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9pbWcvY2hlY2tlZCA2NHg2NC5wbmdcIj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdCB0aW1lTGVmdERvbmVcIj48L2Rpdj4gXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJhbW91bnRcIj4ke2FtdW59PC9kaXY+IFxyXG4gICAgICA8cCBjbGFzcz1cInRpdGxlXCI+JHt0aXR9PC9wPlxyXG4gICAgPC9kaXY+YDtcclxuXHJcbiAgICAgICAgdWwuaW5uZXJIVE1MICs9IGRvbmVfY29udGFpbmVyO1xyXG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XHJcbiAgICAgICAgICBjb25zdCBkb25lX2NvbnRhaW5lcnMgPSB1bC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFpbmVyX19kb25lLS1oaWRlJyk7XHJcbiAgICAgICAgICBkb25lX2NvbnRhaW5lcnMuZm9yRWFjaChlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFpbmVyX19kb25lLS1oaWRlJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgdHJhbnNmZXIucmVzZXQoKTsvLyByZXNldCgpIHJlc2V0dWplIHR5bGtvIGZvcm1cclxuICAgIC8vXHJcblxyXG4gICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIGxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdEhpZGUnKTtcclxuXHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgYWxlcnQoJ1NlbGVjdCB0aGUgYmFuaycpLy9qZcWbbGkgbmllIHd5YmlvcsSZIGJhbmt1XHJcbiAgfVxyXG59XHJcbilcclxuXHJcbmNoZWNrYm94Lm9uY2hhbmdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRhaW5lcl9fZG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWluZXJfX2RvbmUnKTtcclxuICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG5cclxuICAgIGNvbnRhaW5lcl9fZG9uZS5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICBlLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhaW5lcl9fZG9uZS0taGlkZScpO1xyXG4gICAgfSlcclxuICB9XHJcbiAgZWxzZSB7IGNvbnRhaW5lcl9fZG9uZS5mb3JFYWNoKGUgPT4gZS5jbGFzc0xpc3QuYWRkKCdjb250YWluZXJfX2RvbmUtLWhpZGUnKSkgfVxyXG59XHJcblxyXG4vKioqKioqKiBSRUZSRVNTSCAqKioqKioqKioqKi9cclxuXHJcbmNvbnN0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuYmFua0FycmF5LmZvckVhY2goZSA9PiB7XHJcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGUpO1xyXG4gIGNvbnN0IHsgYmFuaywgY2F0ZWdvcnksIGRhdGUsIHRpdGxlLCBhbW91bnQsIHN0YXR1cywgaWQsIGNvbnRhaW5lckNsYXNzLCBzdGF0dXNDaXJjbGVDbGFzcywgdGltZUxlZnRDbGFzcyB9ID0gZTtcclxuICBjb25zdCBtYmFua19jb250YWluZXIgPSBgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiIGlkPVwiJHtpZH1cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInN0cmlwX19tYmFua1wiPiR7ZGF0ZX08L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuICAgICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VcIiBzcmM9XCJhc3NldHMvaW1nL21iYW5rIDMweDMwLnBuZ1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiPiR7Y2F0ZWdvcnl9PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YXR1c0NpcmNsZSAke3N0YXR1c0NpcmNsZShkYXlzTGVmdChkYXRlKSl9XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidGltZUxlZnRcIj4ke2RheXNMZWZ0KGRhdGUpfSBkLjwvZGl2PiBcclxuICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW1vdW50fSB6xYI8L2Rpdj4gXHJcbiAgICAgIDxwIGNsYXNzPVwidGl0bGVcIj4ke3RpdGxlfTwvcD5cclxuICAgICAgPGRpdiBjbGFzcz1cImNsb3NlXCI+XHJcbiAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25DbG9zZVwiPkNhbmNlbDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzID1cImJ1dHRvbkRvbmVcIj5Eb25lPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PiAgICAgICAgICBcclxuICAgIDwvZGl2PmA7XHJcbiAgY29uc3QgcGtvX2NvbnRhaW5lciA9IGA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCIgaWQ9XCIke2lkfVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfX3Brb1wiPiR7ZGF0ZX08L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxvZ29XcmFwZXJcIj5cclxuICAgICAgICA8aW1nIGNsYXNzPVwiaW1hZ2VcIiBzcmM9XCJhc3NldHMvaW1nL3Brb2JwIDQ2N3g0ODUucG5nXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3J5XCI+JHtjYXRlZ29yeX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzQ2lyY2xlICR7c3RhdHVzQ2lyY2xlKGRheXNMZWZ0KGRhdGUpKX1cIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0aW1lTGVmdFwiPiR7ZGF5c0xlZnQoZGF0ZSl9IGQuPC9kaXY+IFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYW1vdW50XCI+JHthbW91bnR9PC9kaXY+IFxyXG4gICAgICA8cCBjbGFzcz1cInRpdGxlXCI+JHt0aXRsZX08L3A+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uQ2xvc2VcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvbiBjbGFzcyA9XCJidXR0b25Eb25lXCI+RG9uZTwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj4gICAgICAgICAgXHJcbiAgICA8L2Rpdj5gO1xyXG4gIGNvbnN0IGRvbmVfY29udGFpbmVyID0gYDxkaXYgY2xhc3M9XCJjb250YWluZXIgY29udGFpbmVyX19kb25lIGNvbnRhaW5lcl9fZG9uZS0taGlkZVwiIGlkPSR7aWR9PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfX2RvbmVcIj4ke2RhdGV9PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbiAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZV9fdHJhc2hCaW5cIiBzcmM9XCJhc3NldHMvaW1nL2RlbGV0ZSAzMHgzMC5wbmdcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4ke2NhdGVnb3J5fTwvZGl2PlxyXG4gICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2ltZy9jaGVja2VkIDY0eDY0LnBuZ1wiPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInRpbWVMZWZ0IHRpbWVMZWZ0RG9uZVwiPjwvZGl2PiBcclxuICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW1vdW50fTwvZGl2PiBcclxuICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0bGV9PC9wPlxyXG4gICAgPC9kaXY+YDtcclxuICBpZiAoc3RhdHVzID09PSAnZG9uZScpIHtcclxuICAgIHVsLmlubmVySFRNTCArPSBkb25lX2NvbnRhaW5lcjtcclxuICB9XHJcbiAgaWYgKGJhbmsgPT09ICdtQmFuaycgJiYgc3RhdHVzICE9ICdkb25lJykge1xyXG4gICAgdWwuaW5uZXJIVE1MICs9IG1iYW5rX2NvbnRhaW5lcjtcclxuICB9XHJcbiAgaWYgKGJhbmsgPT09ICdQS08nICYmIHN0YXR1cyAhPSAnZG9uZScpIHtcclxuICAgIHVsLmlubmVySFRNTCArPSBwa29fY29udGFpbmVyO1xyXG4gIH1cclxufSlcclxuXHJcbnVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblxyXG4gIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlJykpIHtcclxuICAgIGUudGFyZ2V0LmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbkNsb3NlLS1zaG93Jyk7XHJcbiAgICBlLnRhcmdldC5sYXN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbkRvbmUtLXNob3cnKTtcclxuICB9XHJcbiAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdCVVRUT04nICYmIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9uRG9uZScpKSB7XHJcbiAgICBsZXQgYmFua0FycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFua0FycmF5JykpO1xyXG4gICAgY29uc3QgY29udGFpbmVySWQgPSBwYXJzZUludChlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdpZCcpKTtcclxuICAgIGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdjb250YWluZXJfX2RvbmUnLCAnY29udGFpbmVyX19kb25lLS1oaWRlJyk7XHJcbiAgICBiYW5rQXJyYXkuZm9yRWFjaChmID0+IHtcclxuICAgICAgaWYgKGNvbnRhaW5lcklkID09PSBmLmlkKSB7XHJcbiAgICAgICAgZi5zdGF0dXMgPSAnZG9uZSdcclxuICAgICAgICBjb25zdCB7IGRhdGUsIGNhdGVnb3J5LCBhbW91bnQsIHRpdGxlIH0gPSBmO1xyXG4gICAgICAgIGNvbnN0IHN3YXBfX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEpTT04uc3RyaW5naWZ5KGNvbnRhaW5lcklkKSk7XHJcbiAgICAgICAgc3dhcF9fY29udGFpbmVyLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwic3RyaXBfX2RvbmVcIj4ke2RhdGV9PC9kaXY+XHJcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvV3JhcGVyXCI+XHJcbiAgICAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZV9fdHJhc2hCaW5cIiBzcmM9XCJhc3NldHMvaW1nL2RlbGV0ZSAzMHgzMC5wbmdcIj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2F0ZWdvcnlcIj4ke2NhdGVnb3J5fTwvZGl2PlxyXG4gICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2ltZy9jaGVja2VkIDY0eDY0LnBuZ1wiPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPGRpdiBjbGFzcz1cInRpbWVMZWZ0IHRpbWVMZWZ0RG9uZVwiPjwvZGl2PiBcclxuICAgICAgICAgPGRpdiBjbGFzcz1cImFtb3VudFwiPiR7YW1vdW50fTwvZGl2PiBcclxuICAgICAgICAgPHAgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0bGV9PC9wPmA7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBjb25zdCBsb2NhbCA9IEpTT04uc3RyaW5naWZ5KGJhbmtBcnJheSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFua0FycmF5JywgbG9jYWwpO1xyXG4gICAgZS50YXJnZXQucGFyZW50Tm9kZS5yZW1vdmUoKTtcclxuICB9XHJcbiAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9uQ2xvc2UnKSkgey8vdHUgdHJ6ZWJhIHBvcHJhd2nEhyAhIVxyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uQ2xvc2UtLXNob3cnKTtcclxuICAgIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW4uaXRlbSgxKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b25Eb25lLS1zaG93Jyk7XHJcbiAgfVxyXG4gIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnSU1HJyAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ltYWdlX190cmFzaEJpbicpKSB7Ly91c3V3YW5pZSBlbGVtZW50dSB6IGxpc3R5IFxyXG4gICAgY29uc3QgY29udGFpbmVySWQgPSBwYXJzZUludChlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpKTtcclxuICAgIGNvbnN0IGJhbmtBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhbmtBcnJheScpKTtcclxuICAgIGxldCBpbmRleERlbCA9IG51bGw7XHJcbiAgICBjb25zdCBpbmRleEZ1biA9IChlbGVtZW5lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChlbGVtZW5lbnQuaWQgPT09IGNvbnRhaW5lcklkKSB7XHJcbiAgICAgICAgaW5kZXhEZWwgPSBpbmRleFxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgYmFua0FycmF5LmZvckVhY2goaW5kZXhGdW4pO1xyXG4gICAgY29uc29sZS5sb2coaW5kZXhEZWwpO1xyXG4gICAgYmFua0FycmF5LnNwbGljZShpbmRleERlbCwgMSk7XHJcbiAgICBjb25zdCBsb2NhbCA9IEpTT04uc3RyaW5naWZ5KGJhbmtBcnJheSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmFua0FycmF5JywgbG9jYWwpO1xyXG4gICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xyXG5cclxuICB9XHJcbn0pXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3MtYnJvd3NlcmlmeS9icm93c2VyLmpzPzNjNDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCOztBQUUvQiw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1Qiw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxVQUFVOztBQUV6Qiw0QkFBNEI7O0FBRTVCLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy5lbmRpYW5uZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0xFJyB9O1xuXG5leHBvcnRzLmhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZVxuICAgIH1cbiAgICBlbHNlIHJldHVybiAnJztcbn07XG5cbmV4cG9ydHMubG9hZGF2ZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudXB0aW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gMCB9O1xuXG5leHBvcnRzLmZyZWVtZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5leHBvcnRzLnRvdGFsbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy5jcHVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfTtcblxuZXhwb3J0cy50eXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0Jyb3dzZXInIH07XG5cbmV4cG9ydHMucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5hcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLm5ldHdvcmtJbnRlcmZhY2VzXG49IGV4cG9ydHMuZ2V0TmV0d29ya0ludGVyZmFjZXNcbj0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge30gfTtcblxuZXhwb3J0cy5hcmNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2phdmFzY3JpcHQnIH07XG5cbmV4cG9ydHMucGxhdGZvcm0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnYnJvd3NlcicgfTtcblxuZXhwb3J0cy50bXBkaXIgPSBleHBvcnRzLnRtcERpciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJy90bXAnO1xufTtcblxuZXhwb3J0cy5FT0wgPSAnXFxuJztcblxuZXhwb3J0cy5ob21lZGlyID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gJy8nXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")}]);